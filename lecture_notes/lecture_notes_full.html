<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <title>lecture_notes_full</title>
      <style>.markdown-preview:not([data-use-github-style]) { padding: 2em; font-size: 1.2em; color: rgb(171, 178, 191); overflow: auto; background-color: rgb(40, 44, 52); }
.markdown-preview:not([data-use-github-style]) > :first-child { margin-top: 0px; }
.markdown-preview:not([data-use-github-style]) h1, .markdown-preview:not([data-use-github-style]) h2, .markdown-preview:not([data-use-github-style]) h3, .markdown-preview:not([data-use-github-style]) h4, .markdown-preview:not([data-use-github-style]) h5, .markdown-preview:not([data-use-github-style]) h6 { line-height: 1.2; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) h1 { font-size: 2.4em; font-weight: 300; }
.markdown-preview:not([data-use-github-style]) h2 { font-size: 1.8em; font-weight: 400; }
.markdown-preview:not([data-use-github-style]) h3 { font-size: 1.5em; font-weight: 500; }
.markdown-preview:not([data-use-github-style]) h4 { font-size: 1.2em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h5 { font-size: 1.1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h6 { font-size: 1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) strong { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) del { color: rgb(124, 135, 156); }
.markdown-preview:not([data-use-github-style]) a, .markdown-preview:not([data-use-github-style]) a code { color: rgb(82, 139, 255); }
.markdown-preview:not([data-use-github-style]) img { max-width: 100%; }
.markdown-preview:not([data-use-github-style]) > p { margin-top: 0px; margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) > ul, .markdown-preview:not([data-use-github-style]) > ol { margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) blockquote { margin: 1.5em 0px; font-size: inherit; color: rgb(124, 135, 156); border-color: rgb(75, 83, 98); border-width: 4px; }
.markdown-preview:not([data-use-github-style]) hr { margin: 3em 0px; border-top: 2px dashed rgb(75, 83, 98); background: none; }
.markdown-preview:not([data-use-github-style]) table { margin: 1.5em 0px; }
.markdown-preview:not([data-use-github-style]) th { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) th, .markdown-preview:not([data-use-github-style]) td { padding: 0.66em 1em; border: 1px solid rgb(75, 83, 98); }
.markdown-preview:not([data-use-github-style]) pre, .markdown-preview:not([data-use-github-style]) code { color: rgb(255, 255, 255); background-color: rgb(58, 63, 75); }
.markdown-preview:not([data-use-github-style]) pre, .markdown-preview:not([data-use-github-style]) pre.editor-colors { margin: 1.5em 0px; padding: 1em; font-size: 0.92em; border-radius: 3px; background-color: rgb(49, 54, 63); }
.markdown-preview:not([data-use-github-style]) kbd { color: rgb(255, 255, 255); border-width: 1px 1px 2px; border-style: solid; border-color: rgb(75, 83, 98) rgb(75, 83, 98) rgb(62, 68, 81); background-color: rgb(58, 63, 75); }
.markdown-preview[data-use-github-style] { font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif; line-height: 1.6; word-wrap: break-word; padding: 30px; font-size: 16px; color: rgb(51, 51, 51); overflow: scroll; background-color: rgb(255, 255, 255); }
.markdown-preview[data-use-github-style] > :first-child { margin-top: 0px !important; }
.markdown-preview[data-use-github-style] > :last-child { margin-bottom: 0px !important; }
.markdown-preview[data-use-github-style] a:not([href]) { color: inherit; text-decoration: none; }
.markdown-preview[data-use-github-style] .absent { color: rgb(204, 0, 0); }
.markdown-preview[data-use-github-style] .anchor { position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; }
.markdown-preview[data-use-github-style] .anchor:focus { outline: none; }
.markdown-preview[data-use-github-style] h1, .markdown-preview[data-use-github-style] h2, .markdown-preview[data-use-github-style] h3, .markdown-preview[data-use-github-style] h4, .markdown-preview[data-use-github-style] h5, .markdown-preview[data-use-github-style] h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; }
.markdown-preview[data-use-github-style] h1 .octicon-link, .markdown-preview[data-use-github-style] h2 .octicon-link, .markdown-preview[data-use-github-style] h3 .octicon-link, .markdown-preview[data-use-github-style] h4 .octicon-link, .markdown-preview[data-use-github-style] h5 .octicon-link, .markdown-preview[data-use-github-style] h6 .octicon-link { display: none; color: rgb(0, 0, 0); vertical-align: middle; }
.markdown-preview[data-use-github-style] h1:hover .anchor, .markdown-preview[data-use-github-style] h2:hover .anchor, .markdown-preview[data-use-github-style] h3:hover .anchor, .markdown-preview[data-use-github-style] h4:hover .anchor, .markdown-preview[data-use-github-style] h5:hover .anchor, .markdown-preview[data-use-github-style] h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; }
.markdown-preview[data-use-github-style] h1:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h2:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h3:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h4:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h5:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h6:hover .anchor .octicon-link { display: inline-block; }
.markdown-preview[data-use-github-style] h1 tt, .markdown-preview[data-use-github-style] h2 tt, .markdown-preview[data-use-github-style] h3 tt, .markdown-preview[data-use-github-style] h4 tt, .markdown-preview[data-use-github-style] h5 tt, .markdown-preview[data-use-github-style] h6 tt, .markdown-preview[data-use-github-style] h1 code, .markdown-preview[data-use-github-style] h2 code, .markdown-preview[data-use-github-style] h3 code, .markdown-preview[data-use-github-style] h4 code, .markdown-preview[data-use-github-style] h5 code, .markdown-preview[data-use-github-style] h6 code { font-size: inherit; }
.markdown-preview[data-use-github-style] h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h1 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h2 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h3 { font-size: 1.5em; line-height: 1.43; }
.markdown-preview[data-use-github-style] h3 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h4 { font-size: 1.25em; }
.markdown-preview[data-use-github-style] h4 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h5 { font-size: 1em; }
.markdown-preview[data-use-github-style] h5 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] h6 { font-size: 1em; color: rgb(119, 119, 119); }
.markdown-preview[data-use-github-style] h6 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] p, .markdown-preview[data-use-github-style] blockquote, .markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol, .markdown-preview[data-use-github-style] dl, .markdown-preview[data-use-github-style] table, .markdown-preview[data-use-github-style] pre { margin-top: 0px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] hr { height: 4px; padding: 0px; margin: 16px 0px; border: 0px none; background-color: rgb(231, 231, 231); }
.markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol { padding-left: 2em; }
.markdown-preview[data-use-github-style] ul.no-list, .markdown-preview[data-use-github-style] ol.no-list { padding: 0px; list-style-type: none; }
.markdown-preview[data-use-github-style] ul ul, .markdown-preview[data-use-github-style] ul ol, .markdown-preview[data-use-github-style] ol ol, .markdown-preview[data-use-github-style] ol ul { margin-top: 0px; margin-bottom: 0px; }
.markdown-preview[data-use-github-style] li > p { margin-top: 16px; }
.markdown-preview[data-use-github-style] dl { padding: 0px; }
.markdown-preview[data-use-github-style] dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; }
.markdown-preview[data-use-github-style] dl dd { padding: 0px 16px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] blockquote { padding: 0px 15px; color: rgb(119, 119, 119); border-left: 4px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] blockquote > :first-child { margin-top: 0px; }
.markdown-preview[data-use-github-style] blockquote > :last-child { margin-bottom: 0px; }
.markdown-preview[data-use-github-style] table { display: block; width: 100%; overflow: auto; word-break: keep-all; }
.markdown-preview[data-use-github-style] table th { font-weight: bold; }
.markdown-preview[data-use-github-style] table th, .markdown-preview[data-use-github-style] table td { padding: 6px 13px; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] table tr { border-top: 1px solid rgb(204, 204, 204); background-color: rgb(255, 255, 255); }
.markdown-preview[data-use-github-style] table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
.markdown-preview[data-use-github-style] img { max-width: 100%; box-sizing: border-box; }
.markdown-preview[data-use-github-style] .emoji { max-width: none; }
.markdown-preview[data-use-github-style] span.frame { display: block; overflow: hidden; }
.markdown-preview[data-use-github-style] span.frame > span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0px 0px; overflow: hidden; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] span.frame span img { display: block; float: left; }
.markdown-preview[data-use-github-style] span.frame span span { display: block; padding: 5px 0px 0px; clear: both; color: rgb(51, 51, 51); }
.markdown-preview[data-use-github-style] span.align-center { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-center > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: center; }
.markdown-preview[data-use-github-style] span.align-center span img { margin: 0px auto; text-align: center; }
.markdown-preview[data-use-github-style] span.align-right { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-right > span { display: block; margin: 13px 0px 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] span.align-right span img { margin: 0px; text-align: right; }
.markdown-preview[data-use-github-style] span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-left span { margin: 13px 0px 0px; }
.markdown-preview[data-use-github-style] span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-right > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] code, .markdown-preview[data-use-github-style] tt { padding: 0.2em 0px; margin: 0px; font-size: 85%; border-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157); }
.markdown-preview[data-use-github-style] code::before, .markdown-preview[data-use-github-style] tt::before, .markdown-preview[data-use-github-style] code::after, .markdown-preview[data-use-github-style] tt::after { letter-spacing: -0.2em; content: " "; }
.markdown-preview[data-use-github-style] code br, .markdown-preview[data-use-github-style] tt br { display: none; }
.markdown-preview[data-use-github-style] del code { text-decoration: inherit; }
.markdown-preview[data-use-github-style] pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; border: 0px; background: transparent; }
.markdown-preview[data-use-github-style] .highlight { margin-bottom: 16px; }
.markdown-preview[data-use-github-style] .highlight pre, .markdown-preview[data-use-github-style] pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; border-radius: 3px; background-color: rgb(247, 247, 247); }
.markdown-preview[data-use-github-style] .highlight pre { margin-bottom: 0px; word-break: normal; }
.markdown-preview[data-use-github-style] pre { word-wrap: normal; }
.markdown-preview[data-use-github-style] pre code, .markdown-preview[data-use-github-style] pre tt { display: inline; max-width: initial; padding: 0px; margin: 0px; overflow: initial; line-height: inherit; word-wrap: normal; border: 0px; background-color: transparent; }
.markdown-preview[data-use-github-style] pre code::before, .markdown-preview[data-use-github-style] pre tt::before, .markdown-preview[data-use-github-style] pre code::after, .markdown-preview[data-use-github-style] pre tt::after { content: normal; }
.markdown-preview[data-use-github-style] kbd { display: inline-block; padding: 3px 5px; font-size: 11px; line-height: 10px; color: rgb(85, 85, 85); vertical-align: middle; border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204) rgb(204, 204, 204) rgb(187, 187, 187); border-radius: 3px; box-shadow: rgb(187, 187, 187) 0px -1px 0px inset; background-color: rgb(252, 252, 252); }
.markdown-preview[data-use-github-style] a { color: rgb(51, 122, 183); }
.markdown-preview[data-use-github-style] pre, .markdown-preview[data-use-github-style] code { color: inherit; }
.markdown-preview[data-use-github-style] pre, .markdown-preview[data-use-github-style] pre.editor-colors { padding: 0.8em 1em; margin-bottom: 1em; font-size: 0.85em; border-radius: 4px; overflow: auto; }
.scrollbars-visible-always .markdown-preview pre.editor-colors::shadow .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors::shadow .horizontal-scrollbar { visibility: hidden; }
.scrollbars-visible-always .markdown-preview pre.editor-colors:hover::shadow .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors:hover::shadow .horizontal-scrollbar { visibility: visible; }
.markdown-preview del { text-decoration: none; position: relative; }
.markdown-preview del::after { border-bottom: 1px solid black; content: ""; left: 0px; position: absolute; right: 0px; top: 50%; }
.markdown-preview .flash { animation: flash 1s ease-out 1; outline: rgba(255, 0, 0, 0) solid 1px; }
.markdown-preview .flash:not(li) { display: block; }
.markdown-preview:not([data-use-github-style]) { padding: 2em; font-size: 1.2em; color: rgb(171, 178, 191); overflow: auto; background-color: rgb(40, 44, 52); }
.markdown-preview:not([data-use-github-style]) > :first-child { margin-top: 0px; }
.markdown-preview:not([data-use-github-style]) h1, .markdown-preview:not([data-use-github-style]) h2, .markdown-preview:not([data-use-github-style]) h3, .markdown-preview:not([data-use-github-style]) h4, .markdown-preview:not([data-use-github-style]) h5, .markdown-preview:not([data-use-github-style]) h6 { line-height: 1.2; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) h1 { font-size: 2.4em; font-weight: 300; }
.markdown-preview:not([data-use-github-style]) h2 { font-size: 1.8em; font-weight: 400; }
.markdown-preview:not([data-use-github-style]) h3 { font-size: 1.5em; font-weight: 500; }
.markdown-preview:not([data-use-github-style]) h4 { font-size: 1.2em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h5 { font-size: 1.1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h6 { font-size: 1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) strong { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) del { color: rgb(124, 135, 156); }
.markdown-preview:not([data-use-github-style]) a, .markdown-preview:not([data-use-github-style]) a code { color: rgb(82, 139, 255); }
.markdown-preview:not([data-use-github-style]) img { max-width: 100%; }
.markdown-preview:not([data-use-github-style]) > p { margin-top: 0px; margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) > ul, .markdown-preview:not([data-use-github-style]) > ol { margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) blockquote { margin: 1.5em 0px; font-size: inherit; color: rgb(124, 135, 156); border-color: rgb(75, 83, 98); border-width: 4px; }
.markdown-preview:not([data-use-github-style]) hr { margin: 3em 0px; border-top: 2px dashed rgb(75, 83, 98); background: none; }
.markdown-preview:not([data-use-github-style]) table { margin: 1.5em 0px; }
.markdown-preview:not([data-use-github-style]) th { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) th, .markdown-preview:not([data-use-github-style]) td { padding: 0.66em 1em; border: 1px solid rgb(75, 83, 98); }
.markdown-preview:not([data-use-github-style]) code { color: rgb(255, 255, 255); background-color: rgb(58, 63, 75); }
.markdown-preview:not([data-use-github-style]) pre.editor-colors { margin: 1.5em 0px; padding: 1em; font-size: 0.92em; border-radius: 3px; background-color: rgb(49, 54, 63); }
.markdown-preview:not([data-use-github-style]) kbd { color: rgb(255, 255, 255); border-width: 1px 1px 2px; border-style: solid; border-color: rgb(75, 83, 98) rgb(75, 83, 98) rgb(62, 68, 81); background-color: rgb(58, 63, 75); }
.markdown-preview[data-use-github-style] { font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif; line-height: 1.6; word-wrap: break-word; padding: 30px; font-size: 16px; color: rgb(51, 51, 51); overflow: scroll; background-color: rgb(255, 255, 255); }
.markdown-preview[data-use-github-style] > :first-child { margin-top: 0px !important; }
.markdown-preview[data-use-github-style] > :last-child { margin-bottom: 0px !important; }
.markdown-preview[data-use-github-style] a:not([href]) { color: inherit; text-decoration: none; }
.markdown-preview[data-use-github-style] .absent { color: rgb(204, 0, 0); }
.markdown-preview[data-use-github-style] .anchor { position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; }
.markdown-preview[data-use-github-style] .anchor:focus { outline: none; }
.markdown-preview[data-use-github-style] h1, .markdown-preview[data-use-github-style] h2, .markdown-preview[data-use-github-style] h3, .markdown-preview[data-use-github-style] h4, .markdown-preview[data-use-github-style] h5, .markdown-preview[data-use-github-style] h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; }
.markdown-preview[data-use-github-style] h1 .octicon-link, .markdown-preview[data-use-github-style] h2 .octicon-link, .markdown-preview[data-use-github-style] h3 .octicon-link, .markdown-preview[data-use-github-style] h4 .octicon-link, .markdown-preview[data-use-github-style] h5 .octicon-link, .markdown-preview[data-use-github-style] h6 .octicon-link { display: none; color: rgb(0, 0, 0); vertical-align: middle; }
.markdown-preview[data-use-github-style] h1:hover .anchor, .markdown-preview[data-use-github-style] h2:hover .anchor, .markdown-preview[data-use-github-style] h3:hover .anchor, .markdown-preview[data-use-github-style] h4:hover .anchor, .markdown-preview[data-use-github-style] h5:hover .anchor, .markdown-preview[data-use-github-style] h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; }
.markdown-preview[data-use-github-style] h1:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h2:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h3:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h4:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h5:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h6:hover .anchor .octicon-link { display: inline-block; }
.markdown-preview[data-use-github-style] h1 tt, .markdown-preview[data-use-github-style] h2 tt, .markdown-preview[data-use-github-style] h3 tt, .markdown-preview[data-use-github-style] h4 tt, .markdown-preview[data-use-github-style] h5 tt, .markdown-preview[data-use-github-style] h6 tt, .markdown-preview[data-use-github-style] h1 code, .markdown-preview[data-use-github-style] h2 code, .markdown-preview[data-use-github-style] h3 code, .markdown-preview[data-use-github-style] h4 code, .markdown-preview[data-use-github-style] h5 code, .markdown-preview[data-use-github-style] h6 code { font-size: inherit; }
.markdown-preview[data-use-github-style] h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h1 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h2 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h3 { font-size: 1.5em; line-height: 1.43; }
.markdown-preview[data-use-github-style] h3 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h4 { font-size: 1.25em; }
.markdown-preview[data-use-github-style] h4 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h5 { font-size: 1em; }
.markdown-preview[data-use-github-style] h5 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] h6 { font-size: 1em; color: rgb(119, 119, 119); }
.markdown-preview[data-use-github-style] h6 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] p, .markdown-preview[data-use-github-style] blockquote, .markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol, .markdown-preview[data-use-github-style] dl, .markdown-preview[data-use-github-style] table, .markdown-preview[data-use-github-style] pre { margin-top: 0px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] hr { height: 4px; padding: 0px; margin: 16px 0px; border: 0px none; background-color: rgb(231, 231, 231); }
.markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol { padding-left: 2em; }
.markdown-preview[data-use-github-style] ul.no-list, .markdown-preview[data-use-github-style] ol.no-list { padding: 0px; list-style-type: none; }
.markdown-preview[data-use-github-style] ul ul, .markdown-preview[data-use-github-style] ul ol, .markdown-preview[data-use-github-style] ol ol, .markdown-preview[data-use-github-style] ol ul { margin-top: 0px; margin-bottom: 0px; }
.markdown-preview[data-use-github-style] li > p { margin-top: 16px; }
.markdown-preview[data-use-github-style] dl { padding: 0px; }
.markdown-preview[data-use-github-style] dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; }
.markdown-preview[data-use-github-style] dl dd { padding: 0px 16px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] blockquote { padding: 0px 15px; color: rgb(119, 119, 119); border-left: 4px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] blockquote > :first-child { margin-top: 0px; }
.markdown-preview[data-use-github-style] blockquote > :last-child { margin-bottom: 0px; }
.markdown-preview[data-use-github-style] table { display: block; width: 100%; overflow: auto; word-break: keep-all; }
.markdown-preview[data-use-github-style] table th { font-weight: bold; }
.markdown-preview[data-use-github-style] table th, .markdown-preview[data-use-github-style] table td { padding: 6px 13px; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] table tr { border-top: 1px solid rgb(204, 204, 204); background-color: rgb(255, 255, 255); }
.markdown-preview[data-use-github-style] table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
.markdown-preview[data-use-github-style] img { max-width: 100%; box-sizing: border-box; }
.markdown-preview[data-use-github-style] .emoji { max-width: none; }
.markdown-preview[data-use-github-style] span.frame { display: block; overflow: hidden; }
.markdown-preview[data-use-github-style] span.frame > span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0px 0px; overflow: hidden; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] span.frame span img { display: block; float: left; }
.markdown-preview[data-use-github-style] span.frame span span { display: block; padding: 5px 0px 0px; clear: both; color: rgb(51, 51, 51); }
.markdown-preview[data-use-github-style] span.align-center { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-center > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: center; }
.markdown-preview[data-use-github-style] span.align-center span img { margin: 0px auto; text-align: center; }
.markdown-preview[data-use-github-style] span.align-right { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-right > span { display: block; margin: 13px 0px 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] span.align-right span img { margin: 0px; text-align: right; }
.markdown-preview[data-use-github-style] span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-left span { margin: 13px 0px 0px; }
.markdown-preview[data-use-github-style] span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-right > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] code, .markdown-preview[data-use-github-style] tt { padding: 0.2em 0px; margin: 0px; font-size: 85%; border-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157); }
.markdown-preview[data-use-github-style] code::before, .markdown-preview[data-use-github-style] tt::before, .markdown-preview[data-use-github-style] code::after, .markdown-preview[data-use-github-style] tt::after { letter-spacing: -0.2em; content: " "; }
.markdown-preview[data-use-github-style] code br, .markdown-preview[data-use-github-style] tt br { display: none; }
.markdown-preview[data-use-github-style] del code { text-decoration: inherit; }
.markdown-preview[data-use-github-style] pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; border: 0px; background: transparent; }
.markdown-preview[data-use-github-style] .highlight { margin-bottom: 16px; }
.markdown-preview[data-use-github-style] .highlight pre, .markdown-preview[data-use-github-style] pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; border-radius: 3px; background-color: rgb(247, 247, 247); }
.markdown-preview[data-use-github-style] .highlight pre { margin-bottom: 0px; word-break: normal; }
.markdown-preview[data-use-github-style] pre { word-wrap: normal; }
.markdown-preview[data-use-github-style] pre code, .markdown-preview[data-use-github-style] pre tt { display: inline; max-width: initial; padding: 0px; margin: 0px; overflow: initial; line-height: inherit; word-wrap: normal; border: 0px; background-color: transparent; }
.markdown-preview[data-use-github-style] pre code::before, .markdown-preview[data-use-github-style] pre tt::before, .markdown-preview[data-use-github-style] pre code::after, .markdown-preview[data-use-github-style] pre tt::after { content: normal; }
.markdown-preview[data-use-github-style] kbd { display: inline-block; padding: 3px 5px; font-size: 11px; line-height: 10px; color: rgb(85, 85, 85); vertical-align: middle; border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204) rgb(204, 204, 204) rgb(187, 187, 187); border-radius: 3px; box-shadow: rgb(187, 187, 187) 0px -1px 0px inset; background-color: rgb(252, 252, 252); }
.markdown-preview[data-use-github-style] a { color: rgb(51, 122, 183); }
.markdown-preview[data-use-github-style] code { color: inherit; }
.markdown-preview[data-use-github-style] pre.editor-colors { padding: 0.8em 1em; margin-bottom: 1em; font-size: 0.85em; border-radius: 4px; overflow: auto; }
.scrollbars-visible-always .markdown-preview pre.editor-colors::shadow .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors::shadow .horizontal-scrollbar { visibility: hidden; }
.scrollbars-visible-always .markdown-preview pre.editor-colors:hover::shadow .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors:hover::shadow .horizontal-scrollbar { visibility: visible; }
.markdown-preview .task-list-item-checkbox { position: absolute; margin: 0.25em 0px 0px -1.4em; }
.bracket-matcher .region {
  border-bottom: 1px dotted lime;
  position: absolute;
}

.spell-check-misspelling .region {
  border-bottom: 2px dotted rgba(255, 51, 51, 0.75);
}
.spell-check-corrections {
  width: 25em !important;
}

pre.editor-colors,
.host {
  background-color: #282c34;
  color: #abb2bf;
}
pre.editor-colors .line.cursor-line,
.host .line.cursor-line {
  background-color: rgba(153, 187, 255, 0.04);
}
pre.editor-colors .invisible,
.host .invisible {
  color: #abb2bf;
}
pre.editor-colors .cursor,
.host .cursor {
  border-left: 2px solid #528bff;
}
pre.editor-colors .selection .region,
.host .selection .region {
  background-color: #3e4451;
}
pre.editor-colors .bracket-matcher .region,
.host .bracket-matcher .region {
  border-bottom: 1px solid #528bff;
  box-sizing: border-box;
}
pre.editor-colors .invisible-character,
.host .invisible-character {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .indent-guide,
.host .indent-guide {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .wrap-guide,
.host .wrap-guide {
  background-color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .find-result .region.region.region,
.host .find-result .region.region.region,
pre.editor-colors .current-result .region.region.region,
.host .current-result .region.region.region {
  border-radius: 2px;
  background-color: rgba(82, 139, 255, 0.24);
  transition: border-color 0.4s;
}
pre.editor-colors .find-result .region.region.region,
.host .find-result .region.region.region {
  border: 2px solid transparent;
}
pre.editor-colors .current-result .region.region.region,
.host .current-result .region.region.region {
  border: 2px solid #528bff;
  transition-duration: .1s;
}
pre.editor-colors .gutter .line-number,
.host .gutter .line-number {
  color: #636d83;
  -webkit-font-smoothing: antialiased;
}
pre.editor-colors .gutter .line-number.cursor-line,
.host .gutter .line-number.cursor-line {
  color: #abb2bf;
  background-color: #2c313a;
}
pre.editor-colors .gutter .line-number.cursor-line-no-selection,
.host .gutter .line-number.cursor-line-no-selection {
  background-color: transparent;
}
pre.editor-colors .gutter .line-number .icon-right,
.host .gutter .line-number .icon-right {
  color: #abb2bf;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed.git-line-removed::before,
.host .gutter:not(.git-diff-icon) .line-number.git-line-removed.git-line-removed::before {
  bottom: -3px;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed::after,
.host .gutter:not(.git-diff-icon) .line-number.git-line-removed::after {
  content: "";
  position: absolute;
  left: 0px;
  bottom: 0px;
  width: 25px;
  border-bottom: 1px dotted rgba(224, 82, 82, 0.5);
  pointer-events: none;
}
pre.editor-colors .gutter .line-number.folded,
.host .gutter .line-number.folded,
pre.editor-colors .gutter .line-number:after,
.host .gutter .line-number:after,
pre.editor-colors .fold-marker:after,
.host .fold-marker:after {
  color: #abb2bf;
}
.comment {
  color: #5c6370;
  font-style: italic;
}
.comment .markup.link {
  color: #5c6370;
}
.entity.name.type {
  color: #e5c07b;
}
.entity.other.inherited-class {
  color: #98c379;
}
.keyword {
  color: #c678dd;
}
.keyword.control {
  color: #c678dd;
}
.keyword.operator {
  color: #abb2bf;
}
.keyword.other.special-method {
  color: #61afef;
}
.keyword.other.unit {
  color: #d19a66;
}
.storage {
  color: #c678dd;
}
.storage.type.annotation,
.storage.type.primitive {
  color: #c678dd;
}
.storage.modifier.package,
.storage.modifier.import {
  color: #abb2bf;
}
.constant {
  color: #d19a66;
}
.constant.variable {
  color: #d19a66;
}
.constant.character.escape {
  color: #56b6c2;
}
.constant.numeric {
  color: #d19a66;
}
.constant.other.color {
  color: #56b6c2;
}
.constant.other.symbol {
  color: #56b6c2;
}
.variable {
  color: #e06c75;
}
.variable.interpolation {
  color: #be5046;
}
.variable.parameter {
  color: #abb2bf;
}
.string {
  color: #98c379;
}
.string.regexp {
  color: #56b6c2;
}
.string.regexp .source.ruby.embedded {
  color: #e5c07b;
}
.string.other.link {
  color: #e06c75;
}
.punctuation.definition.comment {
  color: #5c6370;
}
.punctuation.definition.method-parameters,
.punctuation.definition.function-parameters,
.punctuation.definition.parameters,
.punctuation.definition.separator,
.punctuation.definition.seperator,
.punctuation.definition.array {
  color: #abb2bf;
}
.punctuation.definition.heading,
.punctuation.definition.identity {
  color: #61afef;
}
.punctuation.definition.bold {
  color: #e5c07b;
  font-weight: bold;
}
.punctuation.definition.italic {
  color: #c678dd;
  font-style: italic;
}
.punctuation.section.embedded {
  color: #be5046;
}
.punctuation.section.method,
.punctuation.section.class,
.punctuation.section.inner-class {
  color: #abb2bf;
}
.support.class {
  color: #e5c07b;
}
.support.type {
  color: #56b6c2;
}
.support.function {
  color: #56b6c2;
}
.support.function.any-method {
  color: #61afef;
}
.entity.name.function {
  color: #61afef;
}
.entity.name.class,
.entity.name.type.class {
  color: #e5c07b;
}
.entity.name.section {
  color: #61afef;
}
.entity.name.tag {
  color: #e06c75;
}
.entity.other.attribute-name {
  color: #d19a66;
}
.entity.other.attribute-name.id {
  color: #61afef;
}
.meta.class {
  color: #e5c07b;
}
.meta.class.body {
  color: #abb2bf;
}
.meta.method-call,
.meta.method {
  color: #abb2bf;
}
.meta.definition.variable {
  color: #e06c75;
}
.meta.link {
  color: #d19a66;
}
.meta.require {
  color: #61afef;
}
.meta.selector {
  color: #c678dd;
}
.meta.separator {
  background-color: #373b41;
  color: #abb2bf;
}
.meta.tag {
  color: #abb2bf;
}
.underline {
  text-decoration: underline;
}
.none {
  color: #abb2bf;
}
.invalid.deprecated {
  color: #523d14 !important;
  background-color: #e0c285 !important;
}
.invalid.illegal {
  color: #ffffff !important;
  background-color: #e05252 !important;
}
.markup.bold {
  color: #d19a66;
  font-weight: bold;
}
.markup.changed {
  color: #c678dd;
}
.markup.deleted {
  color: #e06c75;
}
.markup.italic {
  color: #c678dd;
  font-style: italic;
}
.markup.heading {
  color: #e06c75;
}
.markup.heading .punctuation.definition.heading {
  color: #61afef;
}
.markup.link {
  color: #c678dd;
}
.markup.inserted {
  color: #98c379;
}
.markup.quote {
  color: #d19a66;
}
.markup.raw {
  color: #98c379;
}
.source.c .keyword.operator {
  color: #c678dd;
}
.source.cpp .keyword.operator {
  color: #c678dd;
}
.source.cs .keyword.operator {
  color: #c678dd;
}
.source.css .property-name,
.source.css .property-value {
  color: #828997;
}
.source.css .property-name.support,
.source.css .property-value.support {
  color: #abb2bf;
}
.source.gfm .markup {
  -webkit-font-smoothing: auto;
}
.source.gfm .link .entity {
  color: #61afef;
}
.source.go .storage.type.string {
  color: #c678dd;
}
.source.ini .keyword.other.definition.ini {
  color: #e06c75;
}
.source.java .storage.modifier.import {
  color: #e5c07b;
}
.source.java .storage.type {
  color: #e5c07b;
}
.source.java .keyword.operator.instanceof {
  color: #c678dd;
}
.source.java-properties .meta.key-pair {
  color: #e06c75;
}
.source.java-properties .meta.key-pair > .punctuation {
  color: #abb2bf;
}
.source.js .keyword.operator {
  color: #56b6c2;
}
.source.js .keyword.operator.delete,
.source.js .keyword.operator.in,
.source.js .keyword.operator.of,
.source.js .keyword.operator.instanceof,
.source.js .keyword.operator.new,
.source.js .keyword.operator.typeof,
.source.js .keyword.operator.void {
  color: #c678dd;
}
.source.json .meta.structure.dictionary.json > .string.quoted.json {
  color: #e06c75;
}
.source.json .meta.structure.dictionary.json > .string.quoted.json > .punctuation.string {
  color: #e06c75;
}
.source.json .meta.structure.dictionary.json > .value.json > .string.quoted.json,
.source.json .meta.structure.array.json > .value.json > .string.quoted.json,
.source.json .meta.structure.dictionary.json > .value.json > .string.quoted.json > .punctuation,
.source.json .meta.structure.array.json > .value.json > .string.quoted.json > .punctuation {
  color: #98c379;
}
.source.json .meta.structure.dictionary.json > .constant.language.json,
.source.json .meta.structure.array.json > .constant.language.json {
  color: #56b6c2;
}
.source.ruby .constant.other.symbol > .punctuation {
  color: inherit;
}
.source.python .keyword.operator.logical.python {
  color: #c678dd;
}
.source.python .variable.parameter {
  color: #d19a66;
}
</style>
  </head>
  <body class='markdown-preview' data-use-github-style><h1 id="reactive-python-for-data">Reactive Python for Data</h1>
<h1 id="part-iv-the-observable">Part IV - The Observable</h1>
<h2 id="4-1a-creating-an-observable-">4.1A - Creating an <code>Observable</code></h2>
<p>An <code>Observable</code> pushes items. It can push a finite or infinite series of items over time. To create an <code>Observable</code> that pushes 5 text strings, you can declare it like this:</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>letters</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p>We create an <code>Observable</code> using the <code>from_()</code> function, and pass it a list of five strings. It will take the list and <strong>emit</strong> (or push) each item from it. The <code>Observable.from_()</code> will work with any iterable.</p>
<p>However, running this does nothing more than save an <code>Observable</code> to a variable called <code>letters</code>. For the items to actually get pushed, we need a <code>Subscriber</code>.</p>
<h2 id="4-1b-subscribing-to-an-observable-">4.1B - Subscribing to an <code>Observable</code></h2>
<p>To receive emissions from an <code>Observable</code>, we need to create a <code>Subscriber</code> by implementing an <code>Observer</code>. An <code>Observer</code> implements three functions <code>on_next()</code> which receives an emission, <code>on_completed()</code> which is called when there are no more items, and <code>on_error()</code> which receives an error in the event one occurs.</p>
<p>Then we can pass an implementation of this <code>Observer</code> to the Observable&#39;s <code>subscribe()</code> function. It will then fire the emissions to our <code>Subscriber</code>.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span><span>,&nbsp;</span><span>Observer</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>letters</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta class python"><span class="storage type class python"><span>class</span></span><span>&nbsp;</span><span class="entity name type class python"><span>MySubscriber</span></span><span class="punctuation definition inheritance begin python"><span>(</span></span><span class="meta class inheritance python"><span class="entity other inherited-class python"><span>Observer</span></span></span><span class="punctuation definition inheritance end python"><span>)</span></span><span class="punctuation section class begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>on_next</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>self</span></span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>value</span><span>)</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>on_completed</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>self</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Completed!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>on_error</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>self</span></span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>error</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Error&nbsp;occured:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>error</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>letters</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>MySubscriber</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;Delta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;Epsilon</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Completed!</span></span></span></div></pre><h2 id="example-4-1c-subscribing-shorthand-with-lambdas">Example 4.1C - Subscribing Shorthand with Lambdas</h2>
<p>Implementing a <code>Subscriber</code> is a bit verbose, so we also have the option of passing more concise lambda arguemnts to the <code>subscribe()</code> function. Then it will use those lambas to create the <code>Subscriber</code> for us.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>letters</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>letters</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>value</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_completed</span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Completed!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span><span>,</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>error</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Error&nbsp;occurred:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>error</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p>You do not even have to supply all the lambda arguments. You can leave out the <code>on_completed</code> and <code>on_error</code>, but for production code you should try to have an <code>on_error</code> so errors are not quietly swallowed.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="meta function-call python"><span>letters</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>value</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;or</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>letters</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Received:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>value</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p>We will be using lambdas constantly as we do reactive programming.</p>
<h2 id="4-2a-some-basic-operators">4.2A - Some Basic Operators</h2>
<p>RxPy has approximately 130 operators to powerfully express business logic, transformations, and concurrency behaviors. For now we will start with two basic ones: <code>map()</code> and <code>filter()</code> and cover more in the next section.</p>
<p>For instance, we can <code>map()</code> each <code>String</code> to its lenth, and then filter only to lengths that are at least 5.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>letters</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>mapped</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>letters</span><span>.</span><span>map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>len</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>filtered</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>mapped</span><span>.</span><span>filter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>i</span><span>&nbsp;</span><span class="keyword operator comparison python"><span>&gt;=</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>filtered</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>value</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;7</span></span></span></div></pre><p>Each operator yields a new <code>Observable</code> emitting that transformation. We can save each one to a variable if we want and then <code>subscribe()</code> to the one we want, but oftentimes you will likely want to call them all in a single chain.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>len</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>ilter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>i</span><span>&nbsp;</span><span class="keyword operator comparison python"><span>&gt;=</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>value</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<blockquote>
<p>If you are using an IDE like PyCharm, operators like <code>filter()</code> and <code>map()</code> will unfortunately not be available for auto-complete. The reason is RxPy will add these operators to the <code>Observable</code> at runtime. For PyCharm, you may want to disable <em>Unresolved References</em> under <em>Settings -&gt; Editor -&gt; Inspection -&gt; Python</em> so you do not get any warnings.</p>
</blockquote>
<h2 id="4-2b-using-observable-range-and-observable-just-">4.2B Using Observable.range() and Observable.just()</h2>
<p>There are other ways to create an <code>Observable</code>. For instance, you can emit a range of numbers:</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>letters</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>range</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1</span></span><span>,</span><span class="constant numeric integer decimal python"><span>10</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>letters</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>value</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;3</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;6</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;7</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;8</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;9</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;10</span></span></span></div></pre><p>You can also use <code>Observable.just()</code> to emit a single item.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span><span>,&nbsp;</span><span>Observer</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>greeting</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>just</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Hello&nbsp;World!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>greeting</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>value</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received:&nbsp;Hello&nbsp;World!</span></span></span></div></pre><h1 id="4-2c-using-observable-empty-">4.2C - Using Observable.empty()</h1>
<p>You can also create an <code>Observable</code> that emits nothing and call <code>on_completed()</code> immediately via <code>Observable.empty()</code>. While this may not seem useful, an empty <code>Observable</code> is the reactive equivalent to <code>None</code>, <code>null</code>, or an empty collection so you will encounter it.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>empty</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_completed</span></span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Done!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Done!</span></span></span></div></pre><h1 id="4-3a-creating-an-observable-from-scratch">4.3A - Creating an Observable from Scratch</h1>
<p>You can also create an <code>Observable</code> source from scratch. Using <code>Observable.create()</code>. you can pass a function with an <code>observer</code> argument, and call it&#39;s <code>on_next()</code>, <code>on_completed()</code>, and <code>on_error()</code> to pass items or events to the <code>Subscriber</code> or the next operator in the chain.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span><span>,&nbsp;</span><span>Observer</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>push_numbers</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>observer</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>observer</span><span>.</span><span>on_next</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>100</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>observer</span><span>.</span><span>on_next</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>300</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>observer</span><span>.</span><span>on_next</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>500</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>observer</span><span>.</span><span>on_completed</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>create</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>push_numbers</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>100</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>300</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>500</span></span></span></div></pre><h2 id="4-3b-an-interval-observable">4.3B - An Interval Observable</h2>
<p>Observables do not have to strictly emit data. They can also emit events. Remember our definition that <em>events are data, and data are events</em>? Events and data are treated the same way in ReactiveX. They both can be pushed through an <code>Observable</code>.</p>
<p>For instance, we can use <code>Observable.interval()</code> to emit a consecutive integer every 1 second.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="constant other placeholder python"><span>{0}</span></span><span>&nbsp;Mississippi</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Keep&nbsp;application&nbsp;alive&nbsp;until&nbsp;user&nbsp;presses&nbsp;a&nbsp;key</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="support function builtin python"><span>input</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;quit</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>0&nbsp;Mississippi</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1&nbsp;Mississippi</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>2&nbsp;Mississippi</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>3&nbsp;Mississippi</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>4&nbsp;Mississippi</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>5&nbsp;Mississippi</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>6&nbsp;Mississippi</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>7&nbsp;Mississippi</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>8&nbsp;Mississippi</span></span></span></div></pre><p>Notice how the <code>Observable</code> in fact has a notion of time? It is emitting an integer every second, and each emission is both data and an event. Observables can be created to emit button clicks for a UI, server requests, new Tweets, and any other event while repsresenting that event as data.</p>
<p>Note also we had to use <code>input()</code> to make the main thread pause until the user presses a key. If we did not do this, the <code>Observable.interval()</code> would not have a chance to fire because the application will exit. The reason for this is the <code>Observable.interval()</code> has to operate on a separate thread and create a separate workstream driven by a timer. The Python code will finish and terminate before it has a chance to fire.</p>
<h1 id="4-3c-using-observable-defer-">4.3C - Using Observable.defer()</h1>
<p><strong>WEBCAST ONLY</strong></p>
<p>A behavior to be aware of with <code>Observable.from_()</code> and other functions that create Observables is they may not reflect changes that happen to their sources.</p>
<p>For instance, if have an <code>Observable.range()</code> built off two variables <code>x</code> and <code>y</code>, and one of the variables changes later, this change will not be captured by the source.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>1</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>2</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>3</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>4</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>5</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>Setting</span><span>&nbsp;</span><span>y</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>10</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>1</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>2</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>3</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>4</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>5</span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Gamma</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Adding&nbsp;Delta!</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Delta</span></span></span></div></pre><p>Using <code>Observable.defer()</code> allows you to create a new <code>Observable</code> from scratch each time it is subscribed, and therefore capturing anything that might have changed about its source. Just supply how to create the <code>Observable</code> through a lambda.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>x</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>1</span></span></span></div><div class="line"><span class="source python"><span>y</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>5</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>integers</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>defer</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>range</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>x</span><span>,&nbsp;</span><span>y</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>integers</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="constant character escape linefeed python"><span>\n</span></span><span>Setting&nbsp;y&nbsp;=&nbsp;10</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span></div><div class="line"><span class="source python"><span>y</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>10</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>integers</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>3</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>5</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Setting&nbsp;y&nbsp;=&nbsp;10</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>3</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>6</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>7</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>8</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>9</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>10</span></span></span></div></pre><p>The lambda argument ensures the <code>Observable</code> source declaration is rebuilt each time it is subscribed to.</p>
<h1 id="4-3d-unsubscribing-from-an-observable">4.3D - Unsubscribing from an Observable</h1>
<p>When you <code>subscribe()</code> to an <code>Observable</code> it returns a <code>Disposable</code> so you can disconnect the <code>Subscriber</code> from the <code>Observable</code> at any time.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>time</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>disposable</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="constant other placeholder python"><span>{0}</span></span><span>&nbsp;Mississippi</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;sleep&nbsp;5&nbsp;seconds&nbsp;so&nbsp;Observable&nbsp;can&nbsp;fire</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>time</span><span>.</span><span>sleep</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;disconnect&nbsp;the&nbsp;Subscriber</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Unsubscribing!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>disposable</span><span>.</span><span>dispose</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;sleep&nbsp;a&nbsp;bit&nbsp;longer&nbsp;to&nbsp;prove&nbsp;no&nbsp;more&nbsp;emissions&nbsp;are&nbsp;coming</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>time</span><span>.</span><span>sleep</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>0&nbsp;Mississippi</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1&nbsp;Mississippi</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>2&nbsp;Mississippi</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>3&nbsp;Mississippi</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Unsubscribing!</span></span></span></div></pre><p>Unsubscribing/disposing is usually not necessary for Observables that are finite and quick (they will unsubscribe themselves), but it can be necessary for long-running or infinite Observables.</p>
<h1 id="4-4-an-observable-emitting-tweets">4.4 - An Observable emitting Tweets</h1>
<p>Later we will learn how to create Observables that emit Tweets for a given topic, but here is a preview of what&#39;s to come. Using Tweepy and <code>Observable.create()</code>, we can create a function that yields an <code>Observable</code> emitting Tweets for specified topics. For instance, here is how to get a live stream of text bodies from Tweets for &quot;Britain&quot; and &quot;France&quot;.</p>
<h2 id="4-4a-a-twitter-observable">4.4A - A Twitter Observable</h2>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>tweepy</span><span>.</span><span>streaming</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>StreamListener</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>tweepy</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>OAuthHandler</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>tweepy</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Stream</span></span></div><div class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>json</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Variables&nbsp;that&nbsp;contains&nbsp;the&nbsp;user&nbsp;credentials&nbsp;to&nbsp;access&nbsp;Twitter&nbsp;API</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>access_token</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>CONFIDENTIAL</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span></div><div class="line"><span class="source python"><span>access_token_secret</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>CONFIDENTIAL</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span></div><div class="line"><span class="source python"><span>consumer_key</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>CONFIDENTIAL</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span></div><div class="line"><span class="source python"><span>consumer_secret</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>CONFIDENTIAL</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>tweets_for</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>topics</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>observe_tweets</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>observer</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span class="meta class python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type class python"><span>class</span></span><span>&nbsp;</span><span class="entity name type class python"><span>TweetListener</span></span><span class="punctuation definition inheritance begin python"><span>(</span></span><span class="meta class inheritance python"><span class="entity other inherited-class python"><span>StreamListener</span></span></span><span class="punctuation definition inheritance end python"><span>)</span></span><span class="punctuation section class begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>on_data</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>self</span></span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>data</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>observer</span><span>.</span><span>on_next</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>data</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="constant language python"><span>True</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>on_error</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>self</span></span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>status</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>observer</span><span>.</span><span>on_error</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>status</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="punctuation whitespace comment leading python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;This&nbsp;handles&nbsp;Twitter&nbsp;authetification&nbsp;and&nbsp;the&nbsp;connection&nbsp;to&nbsp;Twitter&nbsp;Streaming&nbsp;API</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>l</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>TweetListener</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>auth</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>OAuthHandler</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>consumer_key</span><span>,&nbsp;</span><span>consumer_secret</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>auth</span><span>.</span><span>set_access_token</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>access_token</span><span>,&nbsp;</span><span>access_token_secret</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>stream</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Stream</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>auth</span><span>,&nbsp;</span><span>l</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>stream</span><span>.</span><span>filter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>track</span></span><span class="keyword operator assignment python"><span>=</span></span><span>topics</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>create</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>observe_tweets</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>s</span><span>hare</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>topics</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span>Britain</span><span class="punctuation definition string end python"><span>&#39;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span>France</span><span class="punctuation definition string end python"><span>&#39;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>tweets_for</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>topics</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>d</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>json</span><span>.</span><span>loads</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>d</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>ilter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>map</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>text</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword operator logical python"><span>in</span></span><span>&nbsp;</span><span class="support function builtin python"><span>map</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>map</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta item-access python"><span class="support function builtin python"><span>map</span></span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>text</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span><span>.</span><span class="meta function-call python"><span>s</span><span>trip</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>RT&nbsp;@YourAnonCentral:&nbsp;The&nbsp;ﬁve&nbsp;biggest&nbsp;international&nbsp;arms&nbsp;exports&nbsp;suppliers&nbsp;in&nbsp;2008–12&nbsp;were&nbsp;the&nbsp;#US,#Russia,&nbsp;#Germany,&nbsp;#France&nbsp;and&nbsp;#China.&nbsp;ht…</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>RT&nbsp;@parismarx:&nbsp;Marine&nbsp;Le&nbsp;Pen&nbsp;believes&nbsp;France&nbsp;&quot;will&nbsp;provide&nbsp;the&nbsp;third&nbsp;stage&nbsp;of&nbsp;a&nbsp;global&nbsp;political&nbsp;uprising&quot;&nbsp;following&nbsp;Brexit&nbsp;&amp;amp;&nbsp;Trump&nbsp;https:/…</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Attentats&nbsp;du&nbsp;13-Novembre:&nbsp;des&nbsp;rescapés&nbsp;racontent&nbsp;leur&nbsp;vie&nbsp;un&nbsp;an&nbsp;après&nbsp;</span><span class="markup underline link https hyperlink"><span>https://t.co/VMM5rlsoQu</span></span><span>&nbsp;via&nbsp;@RFI</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>RT&nbsp;@AOLNews:&nbsp;1&nbsp;year&nbsp;after&nbsp;the&nbsp;Paris&nbsp;attacks,&nbsp;France&#39;s&nbsp;state&nbsp;of&nbsp;emergency&nbsp;remains:&nbsp;</span><span class="markup underline link https hyperlink"><span>https://t.co/PD0U6mXHcN</span></span><span>&nbsp;</span><span class="markup underline link https hyperlink"><span>https://t.co/QUHWRSCLxt</span></span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>おむつは不要、手ぶらで登園。少子化を克服したフランスの保育園事情とは&nbsp;</span><span class="markup underline link https hyperlink"><span>https://t.co/4ImUajYSq2</span></span><span>&nbsp;@HuffPostJapanさんから</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>RT&nbsp;@CPIF_:&nbsp;#France&nbsp;Interdit&nbsp;cette&nbsp;année,&nbsp;les&nbsp;islamistes&nbsp;tentent&nbsp;de&nbsp;convertir&nbsp;les&nbsp;femmes&nbsp;en&nbsp;faisant&nbsp;l&#39;expérience&nbsp;du&nbsp;voile&nbsp;à…</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>RT&nbsp;@StewartWood:&nbsp;This&nbsp;week&nbsp;our&nbsp;Government&nbsp;should&nbsp;remember&nbsp;&amp;amp;&nbsp;make&nbsp;clear&nbsp;that&nbsp;Britain&#39;s&nbsp;alliances&nbsp;must&nbsp;be&nbsp;based&nbsp;on&nbsp;our&nbsp;values,&nbsp;not&nbsp;our&nbsp;values…</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>RT&nbsp;@MaxAbrahms:&nbsp;&quot;Britain&nbsp;will&nbsp;spend&nbsp;the&nbsp;next&nbsp;two&nbsp;months&nbsp;trying&nbsp;to&nbsp;convince&nbsp;Mr&nbsp;Trump&#39;s&nbsp;team&nbsp;of&nbsp;the&nbsp;need&nbsp;to&nbsp;remove&nbsp;President&nbsp;Assad.&quot;&nbsp;https://…</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>RT&nbsp;@Bassounov:&nbsp;#Trump&nbsp;est&nbsp;devenu&nbsp;présidentiable&nbsp;grâce&nbsp;à&nbsp;10&nbsp;ans&nbsp;de&nbsp;#téléPoubelle.&nbsp;En&nbsp;2022&nbsp;en&nbsp;France,&nbsp;la&nbsp;présidence&nbsp;se&nbsp;jouera&nbsp;entre&nbsp;#Hanouna…</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>#&nbsp;Panoramix&nbsp;#Radio&nbsp;#Station</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>...</span></span></span></div></pre><h2 id="4-4b-cold-vs-hot-observables">4.4B Cold vs Hot Observables</h2>
<p>Observables that emit data typically are <strong>cold Observables</strong>, meaning they will replay emissions to each individual <code>Subscriber</code>. For instance, this <code>Observable</code> below will emit all five strings to both Subscribers individually.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>source</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>source</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;1:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>source</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;2:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;Delta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;Epsilon</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;Delta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;Epsilon</span></span></span></div></pre><p>However, <strong>hot Observables</strong> will not replay emissions for tardy subscribers that come later. Our Twitter <code>Observable</code> is an example of a hot <code>Observable</code>. If a second <code>Subscriber</code> subscribes to a Tweet feed 5 seconds after the first <code>Subscriber</code>, it will miss all Tweets that occurred in that window. We will explore this later.</p>
<h1 id="part-v-operators">Part V - Operators</h1>
<p>In this section, we will learn some of the 130 operators available in RxPy. Learning these operators can be overwhelming, so the best approach is to seek the right operators out of need. The key to being productive with RxPy and unleashing its potential is to find the key operators that help you with the tasks you encounter. With practice, you will become fluent in composing them together.</p>
<p>The best way to see what operators are available in RxPy is to look through them on GitHub
<a href="https://github.com/ReactiveX/RxPY/tree/master/rx/linq/observable">https://github.com/ReactiveX/RxPY/tree/master/rx/linq/observable</a></p>
<p>You can also view the ReactiveX operators page which has helpful marble diagrams showing each operator&#39;s behavior
<a href="http://reactivex.io/documentation/operators.html">http://reactivex.io/documentation/operators.html</a></p>
<p>You can also explore various operators using the interactive RxMarbles website
<a href="http://rxmarbles.com/">http://rxmarbles.com/</a></p>
<h2 id="5-1-suppressing-emissions">5.1 Suppressing Emissions</h2>
<p>Here are some operators that can be helpful for supressing emissions that fail to meet a criteria in some form.</p>
<h3 id="5-1a-filter-">5.1A <code>filter()</code></h3>
<p>You have already seen the <code>filter()</code>. It supresses emissions that fail to meet a condition specified by you. For instance, only allowing emissions forward that are at least length 5.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>ilter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>len</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="keyword operator comparison python"><span>&gt;=</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Delta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Epsilon</span></span></span></div></pre><h2 id="5-1b-take-">5.1B <code>take()</code></h2>
<p>You can also use <code>take()</code> to cut off at a certain number of emissions and call <code>on_completed()</code>. For instance, calling <code>take(2)</code> like below will only allow the first two emissions coming out of the <code>filter()</code> to come through.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>ilter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>len</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="keyword operator comparison python"><span>&gt;=</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>t</span><span>ake</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>2</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Gamma</span></span></span></div></pre><p><code>take()</code> will not throw an error if it fails to get the number of items it wants. It will just emit what it does capture. For instance, when <code>take(10)</code> only recieves 4 emissions (and not 10), it will just emit those 4 emissions.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>ilter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>len</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="keyword operator comparison python"><span>&gt;=</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>t</span><span>ake</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>10</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Delta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Epsilon</span></span></span></div></pre><h2 id="5-1c-take_while-">5.1C <code>take_while()</code></h2>
<p><code>take_while()</code> will keep passing emissions based on a condition. For instance if we have an <code>Observable</code> emitting some integers, we can keep taking integers while they are less than 100. We can achieve this using a <code>take_while()</code>.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>2</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>21</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>2</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>1</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>63</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>127</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>12</span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>t</span><span>ake_while</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>i</span><span>&nbsp;</span><span class="keyword operator comparison python"><span>&lt;</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>100</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>on_completed</span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Done!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p>When the <code>127</code> is encountered, the <code>take_while()</code> specified as above with the condition <code>i &lt; 100</code> will trigger <code>on_completed()</code> to be called to the <code>Subscriber</code>, and unsubscription will prevent any more emissions from occurring.</p>
<h1 id="5-2-distinct-operators">5.2 Distinct Operators</h1>
<h2 id="5-2a-distinct-">5.2A <code>distinct()</code></h2>
<p>You can use <code>distinct()</code> to suppress redundant emissions. If an item has been emitted before (based on its equality logic via its <code>__eq__</code> implementation), it will not be emitted.</p>
<p>This will emit the distinct lengths</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>len</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>d</span><span>istinct</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>7</span></span></span></div></pre><h2 id="5-2b-distinct-with-mapping">5.2B <code>distinct()</code> with mapping</h2>
<p>You can also pass a lambda specifying what you want to distinct on. If we want to emit the <code>String</code> rather than its length, but use distinct logic on its length, you can leverage a lambda argument.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>d</span><span>istinct</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>len</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Epsilon</span></span></span></div></pre><h2 id="5-2c-distinct_until_changed-">5.2C <code>distinct_until_changed()</code></h2>
<p>The <code>distinct_until_changed()</code> will prevent <em>consecutive</em> duplicates from emitting.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Theta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Kappa</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>len</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>d</span><span>istinct_until_changed</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>7</span></span></span></div></pre><p>Just like <code>distinct()</code>, you can also provide a lambda to distinct on an attribute.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Theta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Kappa</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>d</span><span>istinct_until_changed</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>len</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Epsilon</span></span></span></div></pre><h1 id="5-3-aggregating-operators">5.3 Aggregating Operators</h1>
<p>When working with data, there will be many instances where we want to consolidate emissions into a single emission to reflect some form of an aggregated result.</p>
<p>With the exception of <code>scan()</code>, one thing to be careful about when aggregating emissions is they rely on <code>on_completed()</code> to be called. Infinite Observables will cause an aggregation operator to work forever aggregating an infinite series of emissions.</p>
<h2 id="5-3a-count-">5.3A - <code>count()</code></h2>
<p>The simplest aggregation to an <code>Observable</code> is to simply <code>count()</code> the number of emisssions, and then push that count forward as a single emission once <code>on_completed()</code> is called. If we want to count the number of text strings that are not 5 characters, we can achieve it like this:</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>ilter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>len</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="keyword operator comparison python"><span>!=</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>c</span><span>ount</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>2</span></span></span></div></pre><h2 id="5-3b-reduce-">5.3B <code>reduce()</code></h2>
<p>The <code>reduce()</code> allows you to define a custom aggregation operation to &quot;fold&quot; each value into a rolling value. For instance, you can find the sum of numeric emissions (less than 100) using <code>reduce()</code> in this manner.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>4</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>76</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>22</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>66</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>881</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>13</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>35</span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>ilter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>i</span><span>&nbsp;</span><span class="keyword operator comparison python"><span>&lt;</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>100</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>r</span><span>educe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>total</span></span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>total</span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>+</span></span><span>&nbsp;</span><span>value</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>216</span></span></span></div></pre><p>You can use this to consolidate emissions in your own custom way for most cases. Keep in mind that there are already built in mathematical aggregators like <code>sum()</code> (which could replace this <code>reduce()</code>) as well as <code>min()</code>, <code>max()</code>, and <code>average()</code>. These only work on numeric emissions, however.</p>
<h2 id="5-3c-scan-">5.3C <code>scan()</code></h2>
<p>The <code>scan()</code> is almost identical to <code>reduce()</code>, but it will emit each rolling total for each emission that is received. Therefore, it can work with infinite Observables such as Twitter streams and other events.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>4</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>76</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>22</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>66</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>881</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>13</span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>35</span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>can</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>total</span></span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>total</span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>+</span></span><span>&nbsp;</span><span>value</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>80</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>102</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>168</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1049</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1062</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1097</span></span></span></div></pre><p>Each accumulation is emitted every time an emission is added to our running total. We start with <code>4</code>, then <code>4</code> + <code>76</code> which is <code>80</code>, then <code>80</code> + <code>22</code> which is <code>102</code>, etc...</p>
<h1 id="5-4-collecting-operators">5.4 Collecting Operators</h1>
<p>You can consolidate emissions by collecting them into a <code>List</code> or <code>Dict</code>, and then pushing that collection forward as a single emission.</p>
<h2 id="5-4a-to_list-">5.4A - <code>to_list()</code></h2>
<p><code>to_list()</code> will collect the emissions into a single <code>List</code> until <code>on_completed()</code> is called, then it will push that <code>List</code> forward as a single emission.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>t</span><span>o_list</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&#39;Alpha&#39;,&nbsp;&#39;Beta&#39;,&nbsp;&#39;Gamma&#39;,&nbsp;&#39;Delta&#39;,&nbsp;&#39;Epsilon&#39;]</span></span></span></div></pre><p>Typically you want avoid excessively collecting things into Lists unless business logic requires it. Prefer to keep emissions flowing forward one-at-a-time in a reactive manner when possible, rather than stopping the flow and collecting emissions into Lists.</p>
<h2 id="5-4b-to_dict-">5.4B - <code>to_dict()</code></h2>
<p>The <code>to_dict()</code> will collect emissions into a <code>Dict</code> and you specify a lambda that derives the key. For instance, if you wanted to key each String off its first letter and collect them into a <code>Dict</code>, do the following:</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>t</span><span>o_dict</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta item-access python"><span>s</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="constant numeric integer decimal python"><span>0</span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>{&#39;B&#39;:&nbsp;&#39;Beta&#39;,&nbsp;&#39;E&#39;:&nbsp;&#39;Epsilon&#39;,&nbsp;&#39;A&#39;:&nbsp;&#39;Alpha&#39;,&nbsp;&#39;G&#39;:&nbsp;&#39;Gamma&#39;,&nbsp;&#39;D&#39;:&nbsp;&#39;Delta&#39;}</span></span></span></div></pre><p>You can optionally provide a second lambda argument to specify a value other than the emission itself. If we wanted to map the first letter to the length of the String instead, we can do this:</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>t</span><span>o_dict</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta item-access python"><span>s</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="constant numeric integer decimal python"><span>0</span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span><span>,&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>len</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>{&#39;A&#39;:&nbsp;5,&nbsp;&#39;B&#39;:&nbsp;4,&nbsp;&#39;D&#39;:&nbsp;5,&nbsp;&#39;G&#39;:&nbsp;5,&nbsp;&#39;E&#39;:&nbsp;7}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>``</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>#&nbsp;Section&nbsp;VI&nbsp;-&nbsp;Combining&nbsp;Observables</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>We&nbsp;can&nbsp;combine&nbsp;multiple&nbsp;Observables&nbsp;into&nbsp;a&nbsp;single&nbsp;`Observable`,&nbsp;and&nbsp;bring&nbsp;their&nbsp;emissions&nbsp;together&nbsp;in&nbsp;various&nbsp;ways.</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>#&nbsp;6.1&nbsp;Merge</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>We&nbsp;can&nbsp;merge&nbsp;two&nbsp;or&nbsp;more&nbsp;Observables&nbsp;using&nbsp;the&nbsp;`Observable.merge()`&nbsp;function,&nbsp;and&nbsp;this&nbsp;will&nbsp;yield&nbsp;a&nbsp;new&nbsp;`Observable`&nbsp;pushing&nbsp;emissions&nbsp;from&nbsp;all&nbsp;of&nbsp;them.</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>##&nbsp;6.1A&nbsp;-&nbsp;Observable.merge()</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>```python</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>from&nbsp;rx&nbsp;import&nbsp;Observable</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>source1&nbsp;=&nbsp;Observable.from_([&quot;Alpha&quot;,&quot;Beta&quot;,&quot;Gamma&quot;,&quot;Delta&quot;,&quot;Epsilon&quot;])</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>source2&nbsp;=&nbsp;Observable.from_([&quot;Zeta&quot;,&quot;Eta&quot;,&quot;Theta&quot;,&quot;Iota&quot;])</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Observable.merge(source1,source2)&nbsp;\</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>.subscribe(lambda&nbsp;s:&nbsp;print(s))</span></span></span></div></pre><p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span>Alpha</span></span></div><div class="line"><span class="source python"><span>Zeta</span></span></div><div class="line"><span class="source python"><span>Beta</span></span></div><div class="line"><span class="source python"><span>Eta</span></span></div><div class="line"><span class="source python"><span>Gamma</span></span></div><div class="line"><span class="source python"><span>Theta</span></span></div><div class="line"><span class="source python"><span>Delta</span></span></div><div class="line"><span class="source python"><span>Iota</span></span></div><div class="line"><span class="source python"><span>Epsilon</span></span></div></pre>
<p>Notice that although emissions from both Observable are now a single stream, the emissions are interleaved and jumbled. This is because <code>Observable.merge()</code> will fire emissions from all the Observables at once rather than sequentially one-at-a-time.</p>
<h2 id="6-1b-observable-merge-continued-">6.1B - Observable.merge() (Continued)</h2>
<p>If you want this sequential ordered guarantee, you will want to use <code>Observable.concat()</code> which is discussed later. But the <code>Observable.merge()</code> can be helpful for merging multiple event streams.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>source1</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Source&nbsp;1:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>source2</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>500</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Source&nbsp;2:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>source3</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>300</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Source&nbsp;3:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>merge</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>source1</span><span>,&nbsp;</span><span>source2</span><span>,&nbsp;</span><span>source3</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;keep&nbsp;application&nbsp;alive&nbsp;until&nbsp;user&nbsp;presses&nbsp;a&nbsp;key</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="support function builtin python"><span>input</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;quit</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Source&nbsp;3:&nbsp;0</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Source&nbsp;2:&nbsp;0</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Source&nbsp;3:&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Source&nbsp;3:&nbsp;2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Source&nbsp;1:&nbsp;0</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Source&nbsp;2:&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Source&nbsp;3:&nbsp;3</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Source&nbsp;2:&nbsp;2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Source&nbsp;3:&nbsp;4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Source&nbsp;3:&nbsp;5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Source&nbsp;2:&nbsp;3</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Source&nbsp;1:&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>etc...</span></span></span></div></pre><p>Three infinite Observables above are emitting a consecutive integer at different intervals (1000 milliseconds, 500 milliseconds, and 300 milliseconds), and putting each integer into a String labeling the source. But we merged these three infinite Observables into one using <code>Observable.merge()</code>.</p>
<h2 id="6-1c-merge_all-">6.1C - <code>merge_all()</code></h2>
<p>Another way to accomplish this is to make a List containing all three Observables, and then passing it to <code>Observable.from_()</code>. This will make an Observable emitting Observables, then you can call <code>merge_all()</code> to turn each one into its emissions.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>source1</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Source&nbsp;1:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>source2</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>500</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Source&nbsp;2:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>source3</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>300</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Source&nbsp;3:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span>source1</span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span>source2</span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span>source3</span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>erge_all</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;keep&nbsp;application&nbsp;alive&nbsp;until&nbsp;user&nbsp;presses&nbsp;a&nbsp;key</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="support function builtin python"><span>input</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;quit</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<h2 id="6-1d-merge_all-continued-">6.1D - <code>merge_all()</code> (Continued)</h2>
<p>If you are creating an <code>Observable</code> off each emission on-the-fly, <code>merge_all()</code> can be helpful here as well. Say you have a list of Strings containing numbers separated by <code>/</code>. You can map each String to be <code>split()</code> and then pass those separated values to an <code>Observable.from_()</code>. Then you can call <code>merge_all()</code> afterwards.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>items</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>134/34/235/132/77</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>64/22/98/112/86/11</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>66/08/34/778/22/12</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>items</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>s</span><span>.</span><span>split</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>/</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>erge_all</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>int</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>134</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>34</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>64</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>235</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>22</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>66</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>132</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>98</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>8</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>77</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>112</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>34</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>86</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>778</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>11</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>22</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>12</span></span></span></div></pre><h2 id="6-1e-flat_map-">6.1E - <code>flat_map()</code></h2>
<p>An alternative way of expressing the previous example (5.1D) is using <code>flat_map()</code>. It will consolidate mapping to an <code>Observable</code> and calling <code>merge_all()</code> into a single operator.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>items</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>134/34/235/132/77</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>64/22/98/112/86/11</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>66/08/34/778/22/12</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>items</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>lat_map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>s</span><span>.</span><span>split</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>/</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>int</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p>We will try to prefer the <code>flat_map()</code> over the <code>map()</code>/<code>merge_all()</code> from now on since it is much more succinct.</p>
<h1 id="6-2-concat-and-zip">6.2 Concat and Zip</h1>
<p><code>Observable.concat()</code> and the <code>concat_all()</code> operator are simliar to <code>Observable.merge()</code> and the <code>merge_all()</code> operator. The only difference is they will emit items from each <code>Observable</code> <em>sequentially</em>. It will fire off each <code>Observable</code> in order and one-at-a-time. Therefore, this not something you want to use with infinite Observables, because the first infinite <code>Observable</code> will occupy its place in the queue forever and stop the <code>Observables</code> behind it from firing. They are helpful for finite data sets though.</p>
<h2 id="6-2a-concat-">6.2A - <code>concat()</code></h2>
<p>Our previous <code>merge()</code> example can now emit items in order:</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>source1</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>source2</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Zeta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Eta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Theta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Iota</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>concat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>source1</span><span>,</span><span>source2</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Delta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Epsilon</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Zeta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Eta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Theta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Iota</span></span></span></div></pre><h2 id="6-2b-concat_all-">6.2B - <code>concat_all()</code></h2>
<p>We can make our earlier example splitting Strings ordered using <code>concat_all()</code> instead of <code>merge_all()</code>.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>items</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>134/34/235/132/77</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>64/22/98/112/86/11</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>66/08/34/778/22/12</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>items</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>s</span><span>.</span><span>split</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>/</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>c</span><span>oncat_all</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>int</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>134</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>34</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>235</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>132</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>77</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>64</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>22</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>98</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>112</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>86</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>11</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>66</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>08</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>34</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>778</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>22</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>12</span></span></span></div></pre><p>If you do not care about ordering, it is recommend to use <code>merge_all()</code> or <code>flat_map()</code>. <code>concat_all()</code> can behave unpredictably with certain operators like <code>group_by()</code>, which we will cover later.</p>
<h2 id="6-2c-zip">6.2C - Zip</h2>
<p>Zipping pairs emissions from two or more sources and turns them into a single <code>Observable</code>.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>letters</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>A</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>B</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>C</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>D</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>E</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>F</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>numbers</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>range</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1</span></span><span>,</span><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>zip</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>letters</span><span>,</span><span>numbers</span><span>,&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>l</span></span><span class="punctuation separator parameters python"><span>,</span></span><span class="variable parameter function python"><span>n</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="constant other placeholder python"><span>{0}</span></span><span>-</span><span class="constant other placeholder python"><span>{1}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>l</span><span>,</span><span>n</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>A-1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>B-2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>C-3</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>D-4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>E-5</span></span></span></div></pre><p>You can alternatively express this as an operator.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="meta function-call python"><span>letters</span><span>.</span><span>zip</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>numbers</span><span>,&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>l</span></span><span class="punctuation separator parameters python"><span>,</span></span><span class="variable parameter function python"><span>n</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="constant other placeholder python"><span>{0}</span></span><span>-</span><span class="constant other placeholder python"><span>{1}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>l</span><span>,</span><span>n</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<h2 id="6-3d-using-zip-to-space-emissions">6.3D - Using Zip to Space Emissions</h2>
<p>Zip can also be helpful to space out emissions by zipping an Observable with an <code>Observable.interva()</code>. For instnance, we can space out five emissions by one second intervals.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>letters</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>intervals</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>zip</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>letters</span><span>,</span><span>intervals</span><span>,&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span><span class="punctuation separator parameters python"><span>,</span></span><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="support function builtin python"><span>input</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;quit</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p>Note that <code>zip()</code> can get overwhelmed with infinite hot Observables where one produces emissions faster than another. You might want to consider using <code>combine_latest()</code> or <code>with_latest_from()</code> instead of <code>zip()</code>, which will pair with the latest emission from each source. For the sake of brevity, we will not cover this in this course. But you can read more about it in the ReactiveX documentation.</p>
<h1 id="6-4-group-by">6.4 - Group By</h1>
<p>For the purposes of data science, one of the most powerful operators in ReactiveX is <code>group_by()</code>. It will yield an Observable emitting GroupedObservables, where each <code>GroupedObservable</code> pushes items with a given key. It behaves just like any other <code>Observable</code>, but it has a <code>key</code> property which we will leverage in a moment.</p>
<p>But first, let&#39;s group some <code>String</code> emissions by keying on their lengths. Then let&#39;s collect emissions for each grouping into a <code>List</code>. Then we can call <code>flat_map()</code> to yield all the Lists.</p>
<h2 id="6-4a-group-into-lists">6.4A - Group into Lists</h2>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>items</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>items</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>g</span><span>roup_by</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>len</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>lat_map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>grp</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>grp</span><span>.</span><span>to_list</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&#39;Alpha&#39;,&nbsp;&#39;Gamma&#39;,&nbsp;&#39;Delta&#39;]</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&#39;Beta&#39;]</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&#39;Epsilon&#39;]</span></span></span></div></pre><p><code>group_by()</code> is efficient because it is still 100% reactive and pushing items one-at-a-time through the different GroupedObservables. You can also leverage the <code>key</code> property and tuple it up with an aggregated value. This is helpful if you want to create <code>Dict</code> that holds aggregations by key values.</p>
<p>For instance, if you want to find the count of each word length occurrence, you can create a <code>Dict</code> like this:</p>
<h2 id="6-4b-getting-length-counts">6.4B - Getting Length Counts</h2>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>items</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>items</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>g</span><span>roup_by</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>len</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>lat_map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>grp</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>grp</span><span>.</span><span>count</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>ct</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>(</span><span>grp</span><span>.</span><span>key</span><span>,&nbsp;</span><span>ct</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>t</span><span>o_dict</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>key_value</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta item-access python"><span>key_value</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="constant numeric integer decimal python"><span>0</span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span><span>,&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>key_value</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta item-access python"><span>key_value</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="constant numeric integer decimal python"><span>1</span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>{4:&nbsp;1,&nbsp;5:&nbsp;3,&nbsp;7:&nbsp;1}</span></span></span></div></pre><p>You can interpret the returned <code>Dict</code> above as &quot;for length 4 there are one occurrences, for length 5 there are 3 occurrences, etc&quot;.</p>
<p><code>group_by()</code> is somewhat abstract but it is a powerful and efficient way to perform aggregations on a given key. It also works with infinite Observables assuming you use infinite-friendly operators on each <code>GroupedObservable</code>. We will use <code>group_by()</code> a few more times in this course.</p>
<h1 id="section-vii-reading-and-analyzing-data">Section VII - Reading and Analyzing data</h1>
<p>In this chapter we will look over basic ways to reactively read data and analyze data from text files, URL&#39;s, and SQL. We will also integrate concepts we previously learned to create a reactive word counter that runs on a schedule and detects changes to a file.</p>
<p>One catch with using <code>Observable.from_()</code> with a data source iterable is it only iterates once, causing multiple Subscribers to not receieve data after the first Subscriber. To get around this we will use functions to create a new <code>Observable</code> each time we need to subscribe to a data source. A slightly more advanced way to solve this issue is to use <code>Observable.defer()</code> which we will not cover here, but you can read about it in the Appendix.</p>
<p>It is good to leverage functions that return Observables anyway. You can accept arguments to build the Observable chain that is returned and increase reusability.</p>
<h2 id="7-1a-reading-a-text-file">7.1A - Reading a Text File</h2>
<p>As stated earlier, anything that is iterable can be turned into an <code>Observable</code> using <code>Observable.from_()</code>. We can emit the lines from a text file in this manner. If I have a raw text file called <code>bbc_news_article.txt</code> in my Python project, I can emit the lines like this:</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>read_lines</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>file_name</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support function builtin python"><span>file</span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>open</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>file_name</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="support function builtin python"><span>file</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>l</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>l</span><span>.</span><span>strip</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>ilter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>l</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>l</span><span>&nbsp;</span><span class="keyword operator comparison python"><span>!=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="punctuation definition string end python"><span class="meta empty-string double python"><span>&quot;</span></span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>read_lines</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>bbc_news_article.txt</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Giant&nbsp;waves&nbsp;damage&nbsp;S&nbsp;Asia&nbsp;economy</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Governments,&nbsp;aid&nbsp;agencies,&nbsp;insurers&nbsp;and&nbsp;travel&nbsp;firms&nbsp;are&nbsp;among&nbsp;those&nbsp;counting&nbsp;the&nbsp;cost&nbsp;of&nbsp;the&nbsp;massive&nbsp;earthquake&nbsp;and&nbsp;waves&nbsp;that&nbsp;hammered&nbsp;southern&nbsp;Asia.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>The&nbsp;worst-hit&nbsp;areas&nbsp;are&nbsp;Sri&nbsp;Lanka,&nbsp;India,&nbsp;Indonesia&nbsp;and&nbsp;Thailand,&nbsp;with&nbsp;at&nbsp;least&nbsp;23,000&nbsp;people&nbsp;killed.&nbsp;Early&nbsp;estimates&nbsp;from&nbsp;the&nbsp;World&nbsp;Bank&nbsp;put&nbsp;the&nbsp;amount&nbsp;of&nbsp;aid&nbsp;needed&nbsp;at&nbsp;about&nbsp;$5bn&nbsp;(£2.6bn),&nbsp;similar&nbsp;to&nbsp;the&nbsp;cash&nbsp;offered&nbsp;Central&nbsp;America&nbsp;after&nbsp;Hurricane&nbsp;Mitch.&nbsp;Mitch&nbsp;killed&nbsp;about&nbsp;10,000&nbsp;people&nbsp;and&nbsp;caused&nbsp;damage&nbsp;of&nbsp;about&nbsp;$10bn&nbsp;in&nbsp;1998.&nbsp;World&nbsp;Bank&nbsp;spokesman&nbsp;Damien</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>...</span></span></span></div></pre><p>I use the <code>map()</code> and <code>filter()</code> operators to strip any leading and trailing whitespace for each line, as well as rid lines that are empty.</p>
<p>We will use this example for a project at the end of this section.</p>
<h2 id="7-1b-reading-a-url">7.1B - Reading a URL</h2>
<p>You can also read content from the web in a similar manner. This can be a powerful way to do web scraping and data wrangling, especially if you reactively push multiple URL&#39;s or URL arguments and scrape the content off each page. Just be kind and don&#39;t tax somebody&#39;s system!</p>
<p>I saved a simple raw text page of the 50 U.S. states on a Gist page. You can view it with this URL: <a href="https://goo.gl/rIaDyM">https://goo.gl/rIaDyM</a>.</p>
<p>If you want to read the lines off the response, you can do it like this:</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>urllib</span><span>.</span><span>request</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>urlopen</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>read_request</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>link</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>f</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>urlopen</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>link</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>f</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>s</span><span>.</span><span>decode</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>utf-8</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>s</span><span>trip</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>read_request</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="markup underline link https hyperlink"><span>https://goo.gl/rIaDyM</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Alabama</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Alaska</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Arizona</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Arkansas</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>California</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Colorado</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Connecticut</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Delaware</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>...</span></span></span></div></pre><p>In the map we have to decode the bytes and convert them to UTF-8 Strings. Then we also clean leading and trailing whitespace with <code>strip()</code>. then finally we print each line.</p>
<h2 id="7-2-reading-a-sql-query">7.2 - Reading a SQL Query</h2>
<p>SQLAlchemy is the go-to Python library for SQL querying, and since it is iterable it can easily support Rx. In this example, I am using a SQLite database file which you can download at <a href="https://goo.gl/9DYXPS">https://goo.gl/9DYXPS</a>. You can also download it on my <a href="https://github.com/thomasnield/oreilly_getting_started_with_sql"><em>Getting Started with SQL</em> GitHub page</a>.</p>
<h3 id="7-2a-emitting-a-query">7.2A - Emitting a query</h3>
<p>When you set up your engine, statement, and connection, you can reactively emit each result (which will be a tuple) from a query using <code>Observable.from_()</code>. Since a SQL query result set can only be iterated once, it is easiest to use a function to create a new one and return it in an <code>Observable</code> each time. That way multiple subscribers can be accommodated easily.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>sqlalchemy</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>create_engine</span><span>,&nbsp;</span><span>text</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>engine</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>create_engine</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span>sqlite:///C:</span><span class="constant character escape backlash python"><span>\\</span></span><span>Users</span><span class="constant character escape backlash python"><span>\\</span></span><span>thoma</span><span class="constant character escape backlash python"><span>\\</span></span><span>Dropbox</span><span class="constant character escape backlash python"><span>\\</span></span><span>rexon_metals.db</span><span class="punctuation definition string end python"><span>&#39;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>conn</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>engine</span><span>.</span><span>connect</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>get_all_customers</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>stmt</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>text</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line sql python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="keyword other DML sql"><span>SELECT</span></span><span>&nbsp;</span><span class="keyword operator star sql"><span>*</span></span><span>&nbsp;</span><span class="keyword other DML sql"><span>FROM</span></span><span>&nbsp;CUSTOMER</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>conn</span><span>.</span><span>execute</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>stmt</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>get_all_customers</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>r</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>r</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(1,&nbsp;&#39;LITE&nbsp;Industrial&#39;,&nbsp;&#39;Southwest&#39;,&nbsp;&#39;729&nbsp;Ravine&nbsp;Way&#39;,&nbsp;&#39;Irving&#39;,&nbsp;&#39;TX&#39;,&nbsp;75014)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(2,&nbsp;&#39;Rex&nbsp;Tooling&nbsp;Inc&#39;,&nbsp;&#39;Southwest&#39;,&nbsp;&#39;6129&nbsp;Collie&nbsp;Blvd&#39;,&nbsp;&#39;Dallas&#39;,&nbsp;&#39;TX&#39;,&nbsp;75201)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(3,&nbsp;&#39;Re-Barre&nbsp;Construction&#39;,&nbsp;&#39;Southwest&#39;,&nbsp;&#39;9043&nbsp;Windy&nbsp;Dr&#39;,&nbsp;&#39;Irving&#39;,&nbsp;&#39;TX&#39;,&nbsp;75032)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(4,&nbsp;&#39;Prairie&nbsp;Construction&#39;,&nbsp;&#39;Southwest&#39;,&nbsp;&#39;264&nbsp;Long&nbsp;Rd&#39;,&nbsp;&#39;Moore&#39;,&nbsp;&#39;OK&#39;,&nbsp;62104)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(5,&nbsp;&#39;Marsh&nbsp;Lane&nbsp;Metal&nbsp;Works&#39;,&nbsp;&#39;Southeast&#39;,&nbsp;&#39;9143&nbsp;Marsh&nbsp;Ln&#39;,&nbsp;&#39;Avondale&#39;,&nbsp;&#39;LA&#39;,&nbsp;79782)</span></span></span></div></pre><h3 id="7-2b-merging-multiple-queries">7.2B - Merging multiple queries</h3>
<p>You can create some powerful reactive patterns when working with databases. For instance, say you wanted to query for customers with ID&#39;s 1, 3, and 5. Of course you can do this in raw SQL like so:</p>
<pre class="editor-colors lang-sql"><div class="line"><span class="source sql"><span class="keyword other DML sql"><span>SELECT</span></span><span>&nbsp;</span><span class="keyword operator star sql"><span>*</span></span><span>&nbsp;</span><span class="keyword other DML sql"><span>FROM</span></span><span>&nbsp;CUSTOMER&nbsp;</span><span class="keyword other DML sql"><span>WHERE</span></span><span>&nbsp;CUSTOMER_ID&nbsp;</span><span class="keyword other data-integrity sql"><span>in</span></span><span>&nbsp;(</span><span class="constant numeric sql"><span>1</span></span><span>,</span><span class="constant numeric sql"><span>3</span></span><span>,</span><span class="constant numeric sql"><span>5</span></span><span>)</span></span></div></pre>
<p>However, let&#39;s leverage Rx to keep our API simple and minimize the number of query functions it needs.</p>
<p>You can create a single <code>customer_for_id()</code> function that returns an <code>Observable</code> emitting a customer for a given <code>customer_id</code>. You can compose it into a reactive chain by using <code>merge_all()</code> or <code>flat_map()</code>. Do this by emitting the desired ID&#39;s, mapping them to the <code>customer_for_id()</code>, and then calling <code>merge_all()</code> to consolidate the results from all three queries.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>sqlalchemy</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>create_engine</span><span>,&nbsp;</span><span>text</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>engine</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>create_engine</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span>sqlite:///C:</span><span class="constant character escape backlash python"><span>\\</span></span><span>Users</span><span class="constant character escape backlash python"><span>\\</span></span><span>thoma</span><span class="constant character escape backlash python"><span>\\</span></span><span>Dropbox</span><span class="constant character escape backlash python"><span>\\</span></span><span>rexon_metals.db</span><span class="punctuation definition string end python"><span>&#39;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>conn</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>engine</span><span>.</span><span>connect</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>get_all_customers</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>stmt</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>text</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line sql python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="keyword other DML sql"><span>SELECT</span></span><span>&nbsp;</span><span class="keyword operator star sql"><span>*</span></span><span>&nbsp;</span><span class="keyword other DML sql"><span>FROM</span></span><span>&nbsp;CUSTOMER</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>conn</span><span>.</span><span>execute</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>stmt</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>customer_for_id</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>customer_id</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>stmt</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>text</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line sql python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="keyword other DML sql"><span>SELECT</span></span><span>&nbsp;</span><span class="keyword operator star sql"><span>*</span></span><span>&nbsp;</span><span class="keyword other DML sql"><span>FROM</span></span><span>&nbsp;CUSTOMER&nbsp;</span><span class="keyword other DML sql"><span>WHERE</span></span><span>&nbsp;CUSTOMER_ID&nbsp;</span><span class="keyword operator comparison sql"><span>=</span></span><span>&nbsp;:id</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>conn</span><span>.</span><span>execute</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>stmt</span><span>,&nbsp;</span><span class="variable parameter function python"><span>id</span></span><span class="keyword operator assignment python"><span>=</span></span><span>customer_id</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Query&nbsp;customers&nbsp;with&nbsp;IDs&nbsp;1,&nbsp;3,&nbsp;and&nbsp;5</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>1</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>3</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>lat_map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>id</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>customer_for_id</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="support function builtin python"><span>id</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>r</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>r</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(1,&nbsp;&#39;LITE&nbsp;Industrial&#39;,&nbsp;&#39;Southwest&#39;,&nbsp;&#39;729&nbsp;Ravine&nbsp;Way&#39;,&nbsp;&#39;Irving&#39;,&nbsp;&#39;TX&#39;,&nbsp;75014)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(3,&nbsp;&#39;Re-Barre&nbsp;Construction&#39;,&nbsp;&#39;Southwest&#39;,&nbsp;&#39;9043&nbsp;Windy&nbsp;Dr&#39;,&nbsp;&#39;Irving&#39;,&nbsp;&#39;TX&#39;,&nbsp;75032)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(5,&nbsp;&#39;Marsh&nbsp;Lane&nbsp;Metal&nbsp;Works&#39;,&nbsp;&#39;Southeast&#39;,&nbsp;&#39;9143&nbsp;Marsh&nbsp;Ln&#39;,&nbsp;&#39;Avondale&#39;,&nbsp;&#39;LA&#39;,&nbsp;79782)</span></span></span></div></pre><p>You can also use Rx to write data to databases using operators or Subscribers. This is beyond the scope of this course, but just remember that any iterable can be turned into an <code>Observable</code>!</p>
<h2 id="7-3-a-scheduled-reactive-word-counter">7.3 - A Scheduled Reactive Word Counter</h2>
<p>Let&#39;s apply everything we have learned so far to create a reactive word counter process.</p>
<h3 id="7-3a-emitting-words-from-a-text-file">7.3A - Emitting words from a text file</h3>
<p>Let&#39;s start by creating a function that returns an <code>Observable</code> emitting and cleaning the words in a text file, ridding punctuation, empty lines, and making all words lower case.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>re</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>words_from_file</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>file_name</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support function builtin python"><span>file</span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>open</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>file_name</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="punctuation whitespace comment leading python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;parse,&nbsp;clean,&nbsp;and&nbsp;push&nbsp;words&nbsp;in&nbsp;text&nbsp;file</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="support function builtin python"><span>file</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>lat_map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>s</span><span>.</span><span>split</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>w</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>re</span><span>.</span><span>sub</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line raw-regex python"><span class="storage type string python"><span>r</span></span><span class="punctuation definition string begin python"><span>&#39;</span></span><span class="constant other character-class set regexp"><span class="punctuation definition character-class regexp"><span>[</span></span><span class="keyword operator negation regexp"><span>^</span></span><span class="constant character character-class regexp"><span>\w</span></span><span class="punctuation definition character-class regexp"><span>]</span></span></span><span class="punctuation definition string end python"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span class="punctuation definition string end python"><span class="meta empty-string single python"><span>&#39;</span></span></span></span><span>,&nbsp;</span><span>w</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>ilter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>w</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>w</span><span>&nbsp;</span><span class="keyword operator comparison python"><span>!=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="punctuation definition string end python"><span class="meta empty-string double python"><span>&quot;</span></span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>w</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>w</span><span>.</span><span>lower</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>article_file</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>bbc_news_article.txt</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>words_from_file</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>article_file</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>w</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>w</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>giant</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>waves</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>damage</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>governments</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>s</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>aid</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>asia</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>agencies</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>the</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>economy</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>...</span></span></span></div></pre><h3 id="7-3b-counting-word-occurrences">7.3B - Counting Word Occurrences</h3>
<p>Let&#39;s create another function called <code>word_counter()</code>. It will leverage the existing <code>words_from_file()</code> then use <code>group_by()</code> to count the word occurrances, then tuple the word with the count.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>re</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>words_from_file</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>file_name</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support function builtin python"><span>file</span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>open</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>file_name</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="punctuation whitespace comment leading python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;parse,&nbsp;clean,&nbsp;and&nbsp;push&nbsp;words&nbsp;in&nbsp;text&nbsp;file</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="support function builtin python"><span>file</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>lat_map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>s</span><span>.</span><span>split</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>w</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>re</span><span>.</span><span>sub</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line raw-regex python"><span class="storage type string python"><span>r</span></span><span class="punctuation definition string begin python"><span>&#39;</span></span><span class="constant other character-class set regexp"><span class="punctuation definition character-class regexp"><span>[</span></span><span class="keyword operator negation regexp"><span>^</span></span><span class="constant character character-class regexp"><span>\w</span><span>\s</span></span><span class="punctuation definition character-class regexp"><span>]</span></span></span><span class="punctuation definition string end python"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span class="punctuation definition string end python"><span class="meta empty-string single python"><span>&#39;</span></span></span></span><span>,&nbsp;</span><span>w</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>ilter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>w</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>w</span><span>&nbsp;</span><span class="keyword operator comparison python"><span>!=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="punctuation definition string end python"><span class="meta empty-string double python"><span>&quot;</span></span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>w</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>w</span><span>.</span><span>lower</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>word_counter</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>file_name</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="punctuation whitespace comment leading python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;count&nbsp;words&nbsp;using&nbsp;`group_by()`</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="punctuation whitespace comment leading python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;tuple&nbsp;the&nbsp;word&nbsp;with&nbsp;the&nbsp;count</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="meta function-call python"><span>words_from_file</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>file_name</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>g</span><span>roup_by</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>word</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>word</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>lat_map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>grp</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>grp</span><span>.</span><span>count</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>ct</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>(</span><span>grp</span><span>.</span><span>key</span><span>,&nbsp;</span><span>ct</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>article_file</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>bbc_news_article.txt</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>word_counter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>article_file</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>w</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>w</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(&#39;giant&#39;,&nbsp;1)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(&#39;waves&#39;,&nbsp;3)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(&#39;damage&#39;,&nbsp;6)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(&#39;governments&#39;,&nbsp;3)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(&#39;s&#39;,&nbsp;1)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(&#39;aid&#39;,&nbsp;10)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(&#39;asia&#39;,&nbsp;6)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(&#39;agencies&#39;,&nbsp;3)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(&#39;the&#39;,&nbsp;78)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(&#39;economy&#39;,&nbsp;1)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>...</span></span></span></div></pre><h2 id="7-3c-scheduling-the-word-count-and-notifying-of-changes">7.3C - Scheduling the Word Count And Notifying of Changes</h2>
<p>Finally, let&#39;s schedule this word count to occur every 3 seconds and collect them into a <code>Dict</code>. We can use <code>distinct_until_changed()</code> to only emit <code>Dict</code> items that have changed due to the text file being edited.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Schedules&nbsp;a&nbsp;reactive&nbsp;process&nbsp;that&nbsp;counts&nbsp;the&nbsp;words&nbsp;in&nbsp;a&nbsp;text&nbsp;file&nbsp;every&nbsp;three&nbsp;seconds,</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;but&nbsp;only&nbsp;prints&nbsp;it&nbsp;as&nbsp;a&nbsp;dict&nbsp;if&nbsp;it&nbsp;has&nbsp;changed</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>re</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>words_from_file</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>file_name</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support function builtin python"><span>file</span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>open</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>file_name</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="punctuation whitespace comment leading python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;parse,&nbsp;clean,&nbsp;and&nbsp;push&nbsp;words&nbsp;in&nbsp;text&nbsp;file</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="support function builtin python"><span>file</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>lat_map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>s</span><span>.</span><span>split</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>w</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>re</span><span>.</span><span>sub</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line raw-regex python"><span class="storage type string python"><span>r</span></span><span class="punctuation definition string begin python"><span>&#39;</span></span><span class="constant other character-class set regexp"><span class="punctuation definition character-class regexp"><span>[</span></span><span class="keyword operator negation regexp"><span>^</span></span><span class="constant character character-class regexp"><span>\w</span><span>\s</span></span><span class="punctuation definition character-class regexp"><span>]</span></span></span><span class="punctuation definition string end python"><span>&#39;</span></span></span><span>,&nbsp;</span><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span class="punctuation definition string end python"><span class="meta empty-string single python"><span>&#39;</span></span></span></span><span>,&nbsp;</span><span>w</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>ilter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>w</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>w</span><span>&nbsp;</span><span class="keyword operator comparison python"><span>!=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="punctuation definition string end python"><span class="meta empty-string double python"><span>&quot;</span></span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>w</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>w</span><span>.</span><span>lower</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>word_counter</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>file_name</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="punctuation whitespace comment leading python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;count&nbsp;words&nbsp;using&nbsp;`group_by()`</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="punctuation whitespace comment leading python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;tuple&nbsp;the&nbsp;word&nbsp;with&nbsp;the&nbsp;count</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="meta function-call python"><span>words_from_file</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>file_name</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>g</span><span>roup_by</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>word</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>word</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>lat_map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>grp</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>grp</span><span>.</span><span>count</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>ct</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>(</span><span>grp</span><span>.</span><span>key</span><span>,&nbsp;</span><span>ct</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;composes&nbsp;the&nbsp;above&nbsp;word_counter()&nbsp;into&nbsp;a&nbsp;dict</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>word_counter_as_dict</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>file_name</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="meta function-call python"><span>word_counter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>file_name</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>t</span><span>o_dict</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>t</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta item-access python"><span>t</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="constant numeric integer decimal python"><span>0</span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span><span>,&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>t</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta item-access python"><span>t</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="constant numeric integer decimal python"><span>1</span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Schedule&nbsp;to&nbsp;create&nbsp;a&nbsp;word&nbsp;count&nbsp;dict&nbsp;every&nbsp;three&nbsp;seconds&nbsp;an&nbsp;article</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;But&nbsp;only&nbsp;re-print&nbsp;if&nbsp;text&nbsp;is&nbsp;edited&nbsp;and&nbsp;word&nbsp;counts&nbsp;change</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>article_file</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>bbc_news_article.txt</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;create&nbsp;a&nbsp;dict&nbsp;every&nbsp;three&nbsp;seconds,&nbsp;but&nbsp;only&nbsp;push&nbsp;if&nbsp;it&nbsp;changed</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>3000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>lat_map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>word_counter_as_dict</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>article_file</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>d</span><span>istinct_until_changed</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>word_ct_dict</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>word_ct_dict</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Keep&nbsp;alive&nbsp;until&nbsp;user&nbsp;presses&nbsp;any&nbsp;key</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="support function builtin python"><span>input</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Starting,&nbsp;press&nbsp;any&nbsp;key&nbsp;to&nbsp;quit</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Starting,&nbsp;press&nbsp;any&nbsp;key&nbsp;to&nbsp;quit</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>{&#39;a&#39;:&nbsp;7,&nbsp;&#39;governments&#39;:&nbsp;3,&nbsp;&#39;first&#39;:&nbsp;1,&nbsp;&#39;getting&#39;:&nbsp;1,&nbsp;&#39;offered&#39;:&nbsp;1,&nbsp;...</span></span></span></div></pre><p>Every time the file is edited and words are added, modified, or removed, it should push a new <code>Dict</code> reflecting these changes. This can be helpful to run a report on a schedule, and you can only emit a new report to an output if the data has changed.</p>
<p>Ideally, it is better to hook onto the change event itself rather than running a potentially expensive process every 3 seconds. We will learn how to do this with Twitter in the next section.</p>
<blockquote>
<p>If you want to see an intensive reactive data analysis example, see my <a href="https://goo.gl/NO0Q4P">social media example on Gist</a></p>
<h1 id="section-viii-hot-observables">Section VIII - Hot Observables</h1>
</blockquote>
<p>In this section we will learn how to create an <code>Observable</code> emitting Tweets for a set of topics. We will wrap an <code>Observable.create()</code> around the Tweepy API. But first, let&#39;s cover multicasting.</p>
<h2 id="8-1a-creating-a-connectableobservable-">8.1A - Creating a <code>ConnectableObservable</code></h2>
<p>Remember how cold Observables will replay data to each Subscriber like a music CD?</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>source</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>source</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;1:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>source</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;2:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;Delta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;Epsilon</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;Delta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;Epsilon</span></span></span></div></pre><p>This is often what we want so no data is missed for each Subscriber. But there are times we will want to force cold Observables to become hot Observables. We can do this by calling <code>publish()</code> which will return a <code>ConnectableObservable</code>. Then we can subscribe our Subscribers to it, then call <code>connect()</code> to fire emissions to all Subscribers at once.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>source</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>p</span><span>ublish</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>source</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;1:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>source</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;2:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>source</span><span>.</span><span>connect</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;Delta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;Delta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;Epsilon</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;Epsilon</span></span></span></div></pre><p>This is known as multicasting. Notice how the emissions are now interleaved? This is because each emission is going to both subscribers. This is helpful if &quot;replaying&quot; the data is expensive or we just simply want all Subscribers to get the emissions simultaneously.</p>
<h2 id="8-1b-sharing-an-interval-observable">8.1B - Sharing an Interval Observable</h2>
<p><code>Observable.interval()</code> is actually a cold Observable too. If one Subscriber subscribes to it, and 5 seconds later another Subscriber comes in, that second subscriber will receive its own emissions that &quot;start over&quot;.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>time</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>source</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>source</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;1:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;sleep&nbsp;5&nbsp;seconds,&nbsp;then&nbsp;add&nbsp;another&nbsp;subscriber</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>time</span><span>.</span><span>sleep</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>source</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;2:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="support function builtin python"><span>input</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;exit</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;0</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;3</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;exit</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;0</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;6</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;7</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;3</span></span></span></div></pre><p>Subscriber 2 starts at <code>0</code> while Subscriber 2 is already at <code>4</code>. If we want both to be on the same timer, we can use <code>publish()</code> to create a <code>ConnectableObservable</code>.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>time</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>source</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>p</span><span>ublish</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>source</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;1:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>source</span><span>.</span><span>connect</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;sleep&nbsp;5&nbsp;seconds,&nbsp;then&nbsp;add&nbsp;another&nbsp;subscriber</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>time</span><span>.</span><span>sleep</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>source</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;2:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="support function builtin python"><span>input</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;exit</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;0</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;3</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;exit</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1:&nbsp;5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2:&nbsp;5</span></span></span></div></pre><h2 id="8-1c-autoconnecting">8.1C - Autoconnecting</h2>
<p>We can have our <code>ConnectableObservable</code> automatically <code>connect()</code> itself when it gets a Subscriber by calling <code>ref_count()</code> on it.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>time</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>source</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>p</span><span>ublish</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>r</span><span>ef_count</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>source</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;1:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;sleep&nbsp;5&nbsp;seconds,&nbsp;then&nbsp;add&nbsp;another&nbsp;subscriber</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>time</span><span>.</span><span>sleep</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>source</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;2:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="support function builtin python"><span>input</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;exit</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p>You can also call an alias for <code>publish().ref_count()</code> by calling <code>share()</code> instead.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span>source</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>s</span><span>hare</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p>Again, multicasting is helpful when you want all Subscribers to receive the same emissions simultaneously
and prevent redundant, expensive work for each Subscriber.</p>
<h2 id="8-2d-multicasting-specific-points-webcast-only-">8.2D - Multicasting Specific Points (Webcast Only)</h2>
<p>The placement of the mutlicasting matters. For instance, if you map three emissions to three random integers, but multicast <em>before</em> the <code>map()</code> operation, two subscribers will both receive separate random integers.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>random</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>randint</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>three_emissions</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>range</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric integer decimal python"><span>3</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>p</span><span>ublish</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>three_random_ints</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>three_emissions</span><span>.</span><span>map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>randint</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric integer decimal python"><span>100000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>three_random_ints</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;1&nbsp;Received:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>three_random_ints</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;2&nbsp;Received:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>three_emissions</span><span>.</span><span>connect</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1&nbsp;Received:&nbsp;56976</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1&nbsp;Received:&nbsp;882</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1&nbsp;Received:&nbsp;59873</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2&nbsp;Received:&nbsp;12911</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2&nbsp;Received:&nbsp;47631</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2&nbsp;Received:&nbsp;84640</span></span></span></div></pre><p>However, putting the <code>publish()</code> <em>after</em> the <code>map()</code> operation, both subscribers will receive the same emissions.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>random</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>randint</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>three_emissions</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>range</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric integer decimal python"><span>3</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>three_random_ints</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>three_emissions</span><span>.</span><span>map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>randint</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric integer decimal python"><span>100000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>p</span><span>ublish</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>three_random_ints</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;1&nbsp;Received:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>three_random_ints</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;2&nbsp;Received:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>three_random_ints</span><span>.</span><span>connect</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1&nbsp;Received:&nbsp;17500</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2&nbsp;Received:&nbsp;17500</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1&nbsp;Received:&nbsp;71398</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2&nbsp;Received:&nbsp;71398</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1&nbsp;Received:&nbsp;90457</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2&nbsp;Received:&nbsp;90457</span></span></span></div></pre><p>Therefore, note that most operators will create a separate stream for each subscriber, even if upstream there is a mutlicasting operation. Typically, you multicast up to the point where operations are common to both subscribers. For instance, if one subscriber simply printed each random number while the second subscriber performed a sum on them, the multcasting will happen before the summing operation since that is where digressive operations occur.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>random</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>randint</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>three_emissions</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>range</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric integer decimal python"><span>3</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>three_random_ints</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>three_emissions</span><span>.</span><span>map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>randint</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric integer decimal python"><span>100000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>p</span><span>ublish</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>three_random_ints</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;1&nbsp;Received:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>three_random_ints</span><span>.</span><span>reduce</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>total</span></span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>item</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>total</span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>+</span></span><span>&nbsp;</span><span>item</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;2&nbsp;Received:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>three_random_ints</span><span>.</span><span>connect</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:*</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1&nbsp;Received:&nbsp;17618</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1&nbsp;Received:&nbsp;66227</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;1&nbsp;Received:&nbsp;36159</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;2&nbsp;Received:&nbsp;120004</span></span></span></div></pre><h2 id="8-2e-subjects-webcast-only-">8.2E - Subjects (Webcast Only)</h2>
<p>Another way to create a kmutlicasted <code>Observable</code> is by declaring a <code>Subject</code>. A <code>Subject</code> is both an <code>Observable</code> and <code>Observer</code>, and you can call its <code>Observer</code> functions to push items through it and up to any Subscribers at any time. It will push these items to all subscribers.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>.</span><span>subjects</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Subject</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>subject</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Subject</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>subject</span><span>.</span><span>filter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>i</span><span>&nbsp;</span><span class="keyword operator comparison python"><span>&lt;</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>100</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>i</span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>*</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>1000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>subject</span><span>.</span><span>on_next</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>10</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>subject</span><span>.</span><span>on_next</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>50</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>subject</span><span>.</span><span>on_next</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>105</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>subject</span><span>.</span><span>on_next</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>87</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>subject</span><span>.</span><span>on_completed</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>10000</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>50000</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>87000</span></span></span></div></pre><p>While they seem convenient, Subjects are often discouraged from being used. They can easily encourage antipatterns and are prone to abuse. They also are difficult to compose against and do not respect <code>subscribe_on()</code>. It is better to create Observables that strictly come from one defined source, rather than be openly mutable and have anything push items to it at anytime. Use Subjects with discretion.</p>
<h2 id="8-2-querying-live-twitter-feeds">8.2 - Querying Live Twitter Feeds</h2>
<p>You can use <code>Observable.create()</code> to wrangle and analyze a live Twitter feed.</p>
<p>You will need to create your own application and access keys/tokens at <a href="https://apps.twitter.com">https://apps.twitter.com</a>.</p>
<p>If we want to query a live stream of Tweets pertaining to the topics of &quot;Britain&quot; or &quot;France&quot;, we can do it like this:</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>tweepy</span><span>.</span><span>streaming</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>StreamListener</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>tweepy</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>OAuthHandler</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>tweepy</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Stream</span></span></div><div class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>json</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Variables&nbsp;that&nbsp;contains&nbsp;the&nbsp;user&nbsp;credentials&nbsp;to&nbsp;access&nbsp;Twitter&nbsp;API</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>access_token</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PUT&nbsp;YOURS&nbsp;HERE</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span></div><div class="line"><span class="source python"><span>access_token_secret</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PUT&nbsp;YOURS&nbsp;HERE</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span></div><div class="line"><span class="source python"><span>consumer_key</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PUT&nbsp;YOURS&nbsp;HERE</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span></div><div class="line"><span class="source python"><span>consumer_secret</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PUT&nbsp;YOURS&nbsp;HERE</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>tweets_for</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>topics</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>observe_tweets</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>observer</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span class="meta class python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type class python"><span>class</span></span><span>&nbsp;</span><span class="entity name type class python"><span>TweetListener</span></span><span class="punctuation definition inheritance begin python"><span>(</span></span><span class="meta class inheritance python"><span class="entity other inherited-class python"><span>StreamListener</span></span></span><span class="punctuation definition inheritance end python"><span>)</span></span><span class="punctuation section class begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>on_data</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>self</span></span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>data</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>observer</span><span>.</span><span>on_next</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>data</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="constant language python"><span>True</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>on_error</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>self</span></span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>status</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>observer</span><span>.</span><span>on_error</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>status</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="punctuation whitespace comment leading python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;This&nbsp;handles&nbsp;Twitter&nbsp;authetification&nbsp;and&nbsp;the&nbsp;connection&nbsp;to&nbsp;Twitter&nbsp;Streaming&nbsp;API</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>l</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>TweetListener</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>auth</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>OAuthHandler</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>consumer_key</span><span>,&nbsp;</span><span>consumer_secret</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>auth</span><span>.</span><span>set_access_token</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>access_token</span><span>,&nbsp;</span><span>access_token_secret</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>stream</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Stream</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>auth</span><span>,&nbsp;</span><span>l</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>stream</span><span>.</span><span>filter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>track</span></span><span class="keyword operator assignment python"><span>=</span></span><span>topics</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>create</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>observe_tweets</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>s</span><span>hare</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>topics</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span>Britain</span><span class="punctuation definition string end python"><span>&#39;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span>France</span><span class="punctuation definition string end python"><span>&#39;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>tweets_for</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>topics</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>d</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>json</span><span>.</span><span>loads</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>d</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<h1 id="ix-concurrency">IX - Concurrency</h1>
<p>(Refer to slides to cover concurrency concepts).</p>
<h2 id="9-1-using-subscribe_on-">9.1 - Using <code>subscribe_on()</code></h2>
<h2 id="9-1a-two-long-running-processes">9.1A - Two Long-Running Processes</h2>
<p>We will not dive too deep into concurrency topics, but we will learn enough to make it useful and speed up slow processes.</p>
<blockquote>
<p>Keep in mind your output may be different than mine, because concurrency tends to shuffle emissions of multiple sources. Output is almost never deterministic when multiple threads are doing work simultaneously and being merged.</p>
</blockquote>
<p>Below, we create two Observables we will call &quot;Process 1&quot; and &quot;Process 2&quot;. The first Observable is emitting five strings and the other emits numbers in a range.  These Observables will fire quickly when subscribed to, but concurrency is more useful and apparent with long-running tasks. To emulate long-running expensive processes, we will need to exaggerate and slow down emissions. We can use a <code>intense_calculation()</code> function that sleeps for a short random duration (between 0.5 to 2.0 seconds) before returning the value it was given. Then we can use this in a <code>map()</code> operator for each <code>Observable</code>.</p>
<p>We will use <code>current_thread().name</code> to identify the thread that is calling each <code>on_next()</code> in the <code>Subscriber</code>. Python will label each thread it creates consecutively as &quot;Thread-1&quot;, &quot;Thread-2&quot;, &quot;Thread-3&quot;, etc.</p>
<p>Before &quot;Process 2&quot; can start, it must wait for &quot;Process 1&quot; to call <code>on_completed()</code> because by default both are on the <code>ImmediateScheduler</code>. This scheduler uses the same <code>MainThread</code> that runs our Python program.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>threading</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>current_thread</span></span></div><div class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>multiprocessing</span><span>,&nbsp;</span><span>time</span><span>,&nbsp;</span><span>random</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>intense_calculation</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span class="punctuation whitespace comment leading python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;sleep&nbsp;for&nbsp;a&nbsp;random&nbsp;short&nbsp;duration&nbsp;between&nbsp;0.5&nbsp;to&nbsp;2.0&nbsp;seconds&nbsp;to&nbsp;simulate&nbsp;a&nbsp;long-running&nbsp;calculation</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>time</span><span>.</span><span>sleep</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>random</span><span>.</span><span>randint</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>5</span></span><span>,</span><span class="constant numeric integer decimal python"><span>20</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>*</span></span><span>&nbsp;</span><span class="constant numeric float python"><span>.1</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span>value</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Create&nbsp;Process&nbsp;1</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>intense_calculation</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PROCESS&nbsp;1:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span>&nbsp;</span><span class="constant other placeholder python"><span>{1}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>current_thread</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span>n</span><span>ame</span><span>,&nbsp;</span><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_completed</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PROCESS&nbsp;1&nbsp;done!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Create&nbsp;Process&nbsp;2</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>range</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1</span></span><span>,</span><span class="constant numeric integer decimal python"><span>10</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>intense_calculation</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PROCESS&nbsp;2:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span>&nbsp;</span><span class="constant other placeholder python"><span>{1}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>current_thread</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span>n</span><span>ame</span><span>,&nbsp;</span><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_completed</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PROCESS&nbsp;2&nbsp;done!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="support function builtin python"><span>input</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;exit</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT (May not match yours):</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1:&nbsp;MainThread&nbsp;Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1:&nbsp;MainThread&nbsp;Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1:&nbsp;MainThread&nbsp;Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1:&nbsp;MainThread&nbsp;Delta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1:&nbsp;MainThread&nbsp;Epsilon</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1&nbsp;done!</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;MainThread&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;MainThread&nbsp;2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;MainThread&nbsp;3</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;MainThread&nbsp;4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;MainThread&nbsp;5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;MainThread&nbsp;6</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;MainThread&nbsp;7</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;MainThread&nbsp;8</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;MainThread&nbsp;9</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;MainThread&nbsp;10</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2&nbsp;done!</span></span></span></div></pre><h2 id="9-1b-kicking-off-both-processes-simultaneously">9.1B - Kicking off both processes simultaneously</h2>
<p>This would go much faster if we kick off both &quot;Process 1&quot; and &quot;Process 2&quot; simultaneously. We can kick off the Subscription in &quot;Process 1&quot; and then immediately move on to kicking off &quot;Process 2&quot;. We will kick off both of their subscriptions simultaneously.</p>
<p>In advance, we can create a <code>ThreadPoolScheduler</code> that holds a number of threads equaling the <em>number of CPU&#39;s on your computer</em> + 1. If your computer has 4 cores, the <code>ThreadPoolScheduler</code> will have 5 threads.  The reason for the extra thread is to utilize any idle time of the other threads. To make the Observables work on this <code>ThreadPoolScheduler</code>, we can pass it to a <code>subscribe_on()</code> operator anywhere in the chain. The <code>subscribe_on()</code>, no matter where it is in the chain, will instruct the source Observable what thread to push items on.</p>
<blockquote>
<p>You are welcome to experiment and specify your own arbitrary number of threads. Just keep in mind there will be a point of diminishing return.</p>
</blockquote>
<p>The code below will execute all the above:</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>.</span><span>concurrency</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>ThreadPoolScheduler</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>threading</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>current_thread</span></span></div><div class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>multiprocessing</span><span>,&nbsp;</span><span>time</span><span>,&nbsp;</span><span>random</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>intense_calculation</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span class="punctuation whitespace comment leading python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;sleep&nbsp;for&nbsp;a&nbsp;random&nbsp;short&nbsp;duration&nbsp;between&nbsp;0.5&nbsp;to&nbsp;2.0&nbsp;seconds&nbsp;to&nbsp;simulate&nbsp;a&nbsp;long-running&nbsp;calculation</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>time</span><span>.</span><span>sleep</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>random</span><span>.</span><span>randint</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>5</span></span><span>,</span><span class="constant numeric integer decimal python"><span>20</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>*</span></span><span>&nbsp;</span><span class="constant numeric float python"><span>.1</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span>value</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;calculate&nbsp;number&nbsp;of&nbsp;CPU&#39;s&nbsp;and&nbsp;add&nbsp;1,&nbsp;then&nbsp;create&nbsp;a&nbsp;ThreadPoolScheduler&nbsp;with&nbsp;that&nbsp;number&nbsp;of&nbsp;threads</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>optimal_thread_count</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>multiprocessing</span><span>.</span><span>cpu_count</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>+</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>1</span></span></span></div><div class="line"><span class="source python"><span>pool_scheduler</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>ThreadPoolScheduler</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>optimal_thread_count</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>We&nbsp;are&nbsp;using&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span>&nbsp;threads</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>optimal_thread_count</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Create&nbsp;Process&nbsp;1</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>intense_calculation</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe_on</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>pool_scheduler</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PROCESS&nbsp;1:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span>&nbsp;</span><span class="constant other placeholder python"><span>{1}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>current_thread</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span>n</span><span>ame</span><span>,&nbsp;</span><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_completed</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PROCESS&nbsp;1&nbsp;done!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Create&nbsp;Process&nbsp;2</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>range</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1</span></span><span>,</span><span class="constant numeric integer decimal python"><span>10</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>intense_calculation</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe_on</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>pool_scheduler</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PROCESS&nbsp;2:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span>&nbsp;</span><span class="constant other placeholder python"><span>{1}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>current_thread</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span>n</span><span>ame</span><span>,&nbsp;</span><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_completed</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PROCESS&nbsp;2&nbsp;done!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="support function builtin python"><span>input</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;exit</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT (May not match yours):</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1:&nbsp;Thread-1&nbsp;Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1:&nbsp;Thread-1&nbsp;Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1:&nbsp;Thread-1&nbsp;Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;3</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1:&nbsp;Thread-1&nbsp;Delta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1:&nbsp;Thread-1&nbsp;Epsilon</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1&nbsp;done!</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;6</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;7</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;8</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;9</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;10</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2&nbsp;done!</span></span></span></div></pre><p>We use the <code>input()</code> function to hold the <code>MainThread</code> and keep the application alive until a key is pressed, allowing the Observables to fire. Notice how the emissions between Process 1 and Process 2 are interleaved, indicating they are both working at the same time. If we did not have the <code>subscribe_on()</code> calls, &quot;Process 1&quot; would have to finish before &quot;Process 2&quot; can start, because they both would use the default <code>ImmediateScheduler</code> as shown earlier.</p>
<p>Notice also that &quot;Process 1&quot; requested a thread from our <code>ThreadPoolScheduler</code> and got <code>Thread-1</code>, and &quot;Process 2&quot; got <code>Thread 2</code>. They both will continue to use these threads until <code>on_completed()</code> is called on their Subscribers. Then the threads will be given back to the <code>ThreadPoolScheduler</code> so they can be used again later.</p>
<h2 id="9-2-using-observe_on-to-redirect-in-the-middle-of-the-chain">9.2 - Using <code>observe_on()</code> to redirect in the middle of the chain</h2>
<p>Not all source Observables will respect a <code>subscribe_on()</code> you specify. This is especially true for time-driven sources like <code>Observable.interval()</code> which will use the <code>TimeoutScheduler</code> and effectively ignore any <code>subscribe_on()</code> you try to call. However, although you cannot instruct the source to emit on a different scheduler, you can specify a different scheduler to be used <em>at a certain point</em> in the <code>Observable</code> chain by using <code>observe_on()</code>.</p>
<p>Let&#39;s create a third process called &quot;Process 3&quot;. The source will be an <code>Observable.interval()</code> which will emit on the <code>TimeoutScheduler</code>. After each emitted number is multiplied by 100, the emission is then moved to the <code>ThreadPoolScheduler</code> via the <code>observe_on()</code> operator. This means for the remaining operators, the emissions will be passed on the <code>ThreadPoolScheduler</code>. Unlike <code>subscribe_on()</code>, the placement of <code>observe_on()</code> does matter as it will redirect to a different executor <em>at that point</em> in the chain.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>.</span><span>concurrency</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>ThreadPoolScheduler</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>threading</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>current_thread</span></span></div><div class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>multiprocessing</span><span>,&nbsp;</span><span>time</span><span>,&nbsp;</span><span>random</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>intense_calculation</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span class="punctuation whitespace comment leading python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;sleep&nbsp;for&nbsp;a&nbsp;random&nbsp;short&nbsp;duration&nbsp;between&nbsp;0.5&nbsp;to&nbsp;2.0&nbsp;seconds&nbsp;to&nbsp;simulate&nbsp;a&nbsp;long-running&nbsp;calculation</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>time</span><span>.</span><span>sleep</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>random</span><span>.</span><span>randint</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>5</span></span><span>,</span><span class="constant numeric integer decimal python"><span>20</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>*</span></span><span>&nbsp;</span><span class="constant numeric float python"><span>.1</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span>value</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;calculate&nbsp;number&nbsp;of&nbsp;CPU&#39;s&nbsp;and&nbsp;add&nbsp;1,&nbsp;then&nbsp;create&nbsp;a&nbsp;ThreadPoolScheduler&nbsp;with&nbsp;that&nbsp;number&nbsp;of&nbsp;threads</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>optimal_thread_count</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>multiprocessing</span><span>.</span><span>cpu_count</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>+</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>1</span></span></span></div><div class="line"><span class="source python"><span>pool_scheduler</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>ThreadPoolScheduler</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>optimal_thread_count</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Create&nbsp;Process&nbsp;1</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>intense_calculation</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe_on</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>pool_scheduler</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PROCESS&nbsp;1:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span>&nbsp;</span><span class="constant other placeholder python"><span>{1}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>current_thread</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span>n</span><span>ame</span><span>,&nbsp;</span><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_completed</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PROCESS&nbsp;1&nbsp;done!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Create&nbsp;Process&nbsp;2</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>range</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1</span></span><span>,</span><span class="constant numeric integer decimal python"><span>10</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>intense_calculation</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe_on</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>pool_scheduler</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PROCESS&nbsp;2:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span>&nbsp;</span><span class="constant other placeholder python"><span>{1}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>current_thread</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span>n</span><span>ame</span><span>,&nbsp;</span><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>on_completed</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PROCESS&nbsp;2&nbsp;done!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Create&nbsp;Process&nbsp;3,&nbsp;which&nbsp;is&nbsp;infinite</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>i</span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>*</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>100</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>o</span><span>bserve_on</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>pool_scheduler</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>intense_calculation</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PROCESS&nbsp;3:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span>&nbsp;</span><span class="constant other placeholder python"><span>{1}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>current_thread</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span>n</span><span>ame</span><span>,&nbsp;</span><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="support function builtin python"><span>input</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;exit</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT (May not match yours):</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1:&nbsp;Thread-1&nbsp;Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1:&nbsp;Thread-1&nbsp;Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;3:&nbsp;Thread-4&nbsp;0</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1:&nbsp;Thread-1&nbsp;Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;3:&nbsp;Thread-4&nbsp;100</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1:&nbsp;Thread-1&nbsp;Delta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;3</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;3:&nbsp;Thread-6&nbsp;200</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1:&nbsp;Thread-1&nbsp;Epsilon</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;1&nbsp;done!</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;3:&nbsp;Thread-13&nbsp;300</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;3:&nbsp;Thread-15&nbsp;400</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;3:&nbsp;Thread-4&nbsp;500</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;6</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;3:&nbsp;Thread-4&nbsp;600</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;7</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;3:&nbsp;Thread-4&nbsp;700</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;8</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;3:&nbsp;Thread-4&nbsp;800</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;9</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;3:&nbsp;Thread-4&nbsp;900</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;3:&nbsp;Thread-4&nbsp;1000</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2:&nbsp;Thread-2&nbsp;10</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;2&nbsp;done!</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;3:&nbsp;Thread-4&nbsp;1100</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;3:&nbsp;Thread-4&nbsp;1200</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;3:&nbsp;Thread-4&nbsp;1300</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;3:&nbsp;Thread-4&nbsp;1400</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>...</span></span></span></div></pre><p>Unlike <code>subscribe_on()</code>, the <code>observe_on()</code> may use a different thread for each emission rather than reserving one thread for all emissions. You can use as many <code>observe_on()</code> calls as you like in an <code>Observable</code> chain to redirect emissions to different thread pools at different points in the chain. But you can only have one <code>subscribe_on()</code>.</p>
<blockquote>
<p>You can use the <code>do_action()</code> to essentially put Subscribers in the middle of the Observable chain, often for debugging purposes. This can be helpful to print the current thread at different points in the <code>Observable</code> chain. Refer to the Appendix to learn more.</p>
</blockquote>
<h1 id="9-3-parallelization">9.3 - Parallelization</h1>
<p>An <code>Observable</code> will only process one item at a time. However, we can use a <code>subscribe_on()</code> or an <code>observe_on()</code> in a <code>flat_map()</code> and do multiple operations in parallel <em>within</em> that <code>flat_map()</code>.</p>
<p>For instance, say I have 10 Strings I need to process. Because our <code>intense_calculation()</code>  will take 0.5 to 2.0 seconds to process each emission, this could take up to 20 seconds.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>.</span><span>concurrency</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>ThreadPoolScheduler</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>threading</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>current_thread</span></span></div><div class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>multiprocessing</span><span>,&nbsp;</span><span>time</span><span>,&nbsp;</span><span>random</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>intense_calculation</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span class="punctuation whitespace comment leading python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;sleep&nbsp;for&nbsp;a&nbsp;random&nbsp;short&nbsp;duration&nbsp;between&nbsp;0.5&nbsp;to&nbsp;2.0&nbsp;seconds&nbsp;to&nbsp;simulate&nbsp;a&nbsp;long-running&nbsp;calculation</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>time</span><span>.</span><span>sleep</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>random</span><span>.</span><span>randint</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>5</span></span><span>,</span><span class="constant numeric integer decimal python"><span>20</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>*</span></span><span>&nbsp;</span><span class="constant numeric float python"><span>.1</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span>value</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Create&nbsp;Parallel&nbsp;Process</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Zeta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Eta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Theta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Iota</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Kappa</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>intense_calculation</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="constant other placeholder python"><span>{0}</span></span><span>&nbsp;</span><span class="constant other placeholder python"><span>{1}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>current_thread</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span>n</span><span>ame</span><span>,&nbsp;</span><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_completed</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PROCESS&nbsp;1&nbsp;done!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="support function builtin python"><span>input</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;exit</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p>This would go much faster if we processed multiple emissions at a time rather than one at a time. Let&#39;s set</p>
<p>My computer has 8 cores, but let&#39;s use Python to count the number of cores dynamically. Let&#39;s set a <code>ThreadPoolScheduler</code> to have that many threads (plus one) according to our rough optimal formula. Rather than process 1 item at a time, I can now process 9 at a time which will yield a much faster completion. I just need to make sure the expensive operators happen within a <code>flat_map()</code>, starting with that single emission wrapped in an <code>Observable.just()</code> and scheduled using <code>subscribe_on()</code>.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>.</span><span>concurrency</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>ThreadPoolScheduler</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>threading</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>current_thread</span></span></div><div class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>multiprocessing</span><span>,&nbsp;</span><span>time</span><span>,&nbsp;</span><span>random</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>intense_calculation</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span class="punctuation whitespace comment leading python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;sleep&nbsp;for&nbsp;a&nbsp;random&nbsp;short&nbsp;duration&nbsp;between&nbsp;0.5&nbsp;to&nbsp;2.0&nbsp;seconds&nbsp;to&nbsp;simulate&nbsp;a&nbsp;long-running&nbsp;calculation</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>time</span><span>.</span><span>sleep</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>random</span><span>.</span><span>randint</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>5</span></span><span>,</span><span class="constant numeric integer decimal python"><span>20</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>*</span></span><span>&nbsp;</span><span class="constant numeric float python"><span>.1</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span>value</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;calculate&nbsp;number&nbsp;of&nbsp;CPU&#39;s&nbsp;and&nbsp;add&nbsp;1,&nbsp;then&nbsp;create&nbsp;a&nbsp;ThreadPoolScheduler&nbsp;with&nbsp;that&nbsp;number&nbsp;of&nbsp;threads</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>optimal_thread_count</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>multiprocessing</span><span>.</span><span>cpu_count</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>+</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>1</span></span></span></div><div class="line"><span class="source python"><span>pool_scheduler</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>ThreadPoolScheduler</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>optimal_thread_count</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Create&nbsp;Parallel&nbsp;Process</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Zeta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Eta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Theta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Iota</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Kappa</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>f</span><span>lat_map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>just</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>s</span><span>ubscribe_on</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>pool_scheduler</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>intense_calculation</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="constant other placeholder python"><span>{0}</span></span><span>&nbsp;</span><span class="constant other placeholder python"><span>{1}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>current_thread</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span>n</span><span>ame</span><span>,&nbsp;</span><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_completed</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>PROCESS&nbsp;1&nbsp;done!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="support function builtin python"><span>input</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;exit</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;exit</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Thread-4&nbsp;Delta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Thread-6&nbsp;Zeta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Thread-1&nbsp;Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Thread-2&nbsp;Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Thread-9&nbsp;Iota</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Thread-3&nbsp;Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Thread-8&nbsp;Theta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Thread-4&nbsp;Kappa</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Thread-7&nbsp;Eta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Thread-5&nbsp;Epsilon</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PROCESS&nbsp;done!</span></span></span></div></pre><p>Now this takes less than 3 seconds! Of course the 10 items are now racing each other and complete in a random order. Only 9 threads are available, thus a 10th item must wait for one of the first 9 to complete. It looks like this item was <code>Kappa</code> which received <code>Thread-4</code> from <code>Delta</code> after it was done.</p>
<p>Parallelization using <code>flat_map()</code> (or <code>merge_all()</code>) can greatly increase performance if each emission must go through an expensive operation. Just wrap that emission into an  <code>Observable.just()</code>, schedule it with <code>subscribe_on()</code> or <code>observe_on()</code> (preferably <code>subscribe_on()</code> if possible), and then make all the expensive operations happen inside the <code>flat_map()</code>.</p>
<p>The reason each emission must be broken into its own <code>Observable</code> is because an <code>Observable</code> is sequential and cannot be parallelized. But you can take multiple Observables and merge them into a single Observable, even if they are working on a different threads. The merged Observable will only push out items on one thread, but the items inside <code>flat_map()</code> can process in parallel.</p>
<h1 id="9-4-redirecting-work-with-switch_map-">9.4 - Redirecting Work with <code>switch_map()</code></h1>
<p>Imagine you have an <code>Observable</code> and you use <code>flat_map()</code> to yield a emissions from another <code>Observable</code>. However, say you wanted to <em>only</em> puruse the <code>Observable</code> for the latest emission, and kill any previous Observables to stop their emissions coming out of <code>flat_map()</code>.</p>
<p>You can achieve this with <code>switch_map()</code>. It operates much like a <code>flat_map()</code>, but will only fire items for the latest emission. All previous Observables derived from previous emissions will be unsubscribed.</p>
<p>This example is slightly contrived, but let&#39;s say we have a finite <code>Observable</code> emitting Strings. We want an <code>Observable.interval()</code> to emit every 6 seconds, and have each emission flat map to our <code>Observable</code> of strings which are artificially slowed by <code>intense_calculation()</code>. But instead of using <code>flat_map()</code>, we can use <code>switch_map()</code> to only chase after the latest <code>Observable</code> created off each interval emission and unsubscribe previous ones.</p>
<p>We also need to parallelize using <code>subscribe_on()</code> so each Observable within the <code>switch_map()</code> happens on a different thread.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>.</span><span>concurrency</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>ThreadPoolScheduler</span></span></div><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>threading</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>current_thread</span></span></div><div class="line"><span class="source python"><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>multiprocessing</span><span>,&nbsp;</span><span>time</span><span>,&nbsp;</span><span>random</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>intense_calculation</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>value</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span class="punctuation whitespace comment leading python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;sleep&nbsp;for&nbsp;a&nbsp;random&nbsp;short&nbsp;duration&nbsp;between&nbsp;0.5&nbsp;to&nbsp;2.0&nbsp;seconds&nbsp;to&nbsp;simulate&nbsp;a&nbsp;long-running&nbsp;calculation</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>time</span><span>.</span><span>sleep</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>random</span><span>.</span><span>randint</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>5</span></span><span>,&nbsp;</span><span class="constant numeric integer decimal python"><span>20</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>*</span></span><span>&nbsp;</span><span class="constant numeric float python"><span>.1</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span>value</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;calculate&nbsp;number&nbsp;of&nbsp;CPU&#39;s&nbsp;and&nbsp;add&nbsp;1,&nbsp;then&nbsp;create&nbsp;a&nbsp;ThreadPoolScheduler&nbsp;with&nbsp;that&nbsp;number&nbsp;of&nbsp;threads</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>optimal_thread_count</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>multiprocessing</span><span>.</span><span>cpu_count</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>+</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>1</span></span></span></div><div class="line"><span class="source python"><span>pool_scheduler</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>ThreadPoolScheduler</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>optimal_thread_count</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>strings</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Zeta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Eta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Theta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Iota</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Kappa</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>6000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>witch_map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>strings</span><span>.</span><span>map</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span>intense_calculation</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>s</span><span>ubscribe_on</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>pool_scheduler</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Received&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span>&nbsp;on&nbsp;</span><span class="constant other placeholder python"><span>{1}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span><span>,&nbsp;</span><span class="meta function-call python"><span>current_thread</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span>n</span><span>ame</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="support function builtin python"><span>input</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;exit</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT (May Vary):</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;exit</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received&nbsp;Alpha&nbsp;on&nbsp;Thread-2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received&nbsp;Beta&nbsp;on&nbsp;Thread-2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received&nbsp;Gamma&nbsp;on&nbsp;Thread-2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received&nbsp;Delta&nbsp;on&nbsp;Thread-2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received&nbsp;Alpha&nbsp;on&nbsp;Thread-4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received&nbsp;Beta&nbsp;on&nbsp;Thread-4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received&nbsp;Gamma&nbsp;on&nbsp;Thread-4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received&nbsp;Alpha&nbsp;on&nbsp;Thread-6</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received&nbsp;Beta&nbsp;on&nbsp;Thread-6</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received&nbsp;Gamma&nbsp;on&nbsp;Thread-6</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received&nbsp;Delta&nbsp;on&nbsp;Thread-6</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received&nbsp;Epsilon&nbsp;on&nbsp;Thread-6</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Received&nbsp;Alpha&nbsp;on&nbsp;Thread-2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>...</span></span></span></div></pre><p>Using <code>switch_map()</code> is a convenient way to cancel current work when new work comes in, rather than queuing up work. This is desirable if you are only concerned with the latest data or want to cancel obsolete processing. If you are scraping web data on a schedule using <code>Observable.interval()</code>, but a scrape instance takes too long and a new scrape requests comes in, you can cancel that scrape and start the next one.</p>
<h1 id="appendix">Appendix</h1>
<h2 id="1-deferred-observables">1 - Deferred Observables</h2>
<p>A behavior to be aware of with <code>Observable.from_()</code> and other functions that create Observables is they may not reflect changes that happen to their sources.</p>
<p>For instance, if have an <code>Observable.range()</code> built off two variables <code>x</code> and <code>y</code>, and one of the variables changes later, this change will not be captured by the source.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>1</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>2</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>3</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>4</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>5</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>Setting</span><span>&nbsp;</span><span>y</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>10</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>1</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>2</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>3</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>4</span></span></span></div><div class="line"><span class="source python"><span class="constant numeric integer decimal python"><span>5</span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Gamma</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Adding&nbsp;Delta!</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Alpha</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Beta</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Gamma</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Delta</span></span></span></div></pre><p>Using <code>Observable.defer()</code> allows you to create a new <code>Observable</code> from scratch each time it is subscribed, and therefore capturing anything that might have changed about its source. Just supply how to create the <code>Observable</code> through a lambda.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>x</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>1</span></span></span></div><div class="line"><span class="source python"><span>y</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>5</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>integers</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>defer</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>range</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>x</span><span>,&nbsp;</span><span>y</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>integers</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="constant character escape linefeed python"><span>\n</span></span><span>Setting&nbsp;y&nbsp;=&nbsp;10</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span></div><div class="line"><span class="source python"><span>y</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>10</span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>integers</span><span>.</span><span>subscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>3</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>5</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Setting&nbsp;y&nbsp;=&nbsp;10</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>3</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>6</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>7</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>8</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>9</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>10</span></span></span></div></pre><p>The lambda argument ensures the <code>Observable</code> source declaration is rebuilt each time it is subscribed to. This is especially helpful to use with data sources that can only be iterated once, as opposed to calling a helper function for each Subscriber (this was covered in Section VII):</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>get_all_customers</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>stmt</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>text</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line sql python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="keyword other DML sql"><span>SELECT</span></span><span>&nbsp;</span><span class="keyword operator star sql"><span>*</span></span><span>&nbsp;</span><span class="keyword other DML sql"><span>FROM</span></span><span>&nbsp;CUSTOMER</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>conn</span><span>.</span><span>execute</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>stmt</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p>We can actually create an <code>Obserable</code> that is truly reusable for multiple Subscribers.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span>stmt</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>text</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line sql python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="keyword other DML sql"><span>SELECT</span></span><span>&nbsp;</span><span class="keyword operator star sql"><span>*</span></span><span>&nbsp;</span><span class="keyword other DML sql"><span>FROM</span></span><span>&nbsp;CUSTOMER</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="comment line number-sign python"><span class="punctuation definition comment python"><span>#</span></span><span>&nbsp;Will&nbsp;suppport&nbsp;multiple&nbsp;subscribers&nbsp;and&nbsp;coldly&nbsp;replay&nbsp;to&nbsp;each&nbsp;one</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span>all_customers</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>defer</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>conn</span><span>.</span><span>execute</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>stmt</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<h2 id="2-debugging-with-do_action-">2 - Debugging with <code>do_action()</code></h2>
<p>A helpful operator that provides insight into any point in the <code>Observable</code> chain is the <code>do_action()</code>. This essentially allows us to insert a <code>Subscriber</code> after any operator we want, and pass one or more of <code>on_next()</code>, <code>on_completed()</code>, and <code>on_error()</code> actions.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Alpha</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Beta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Gamma</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Delta</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Epsilon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>len</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>d</span><span>o_action</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Receiving&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span>&nbsp;from&nbsp;map()</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_completed</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>map()&nbsp;is&nbsp;done!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>t</span><span>o_list</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>l</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;received&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>l</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="meta function-call arguments python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable parameter function python"><span>on_completed</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="storage type function python"><span>lambda</span></span><span>:&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Subscriber&nbsp;done!</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Receiving&nbsp;5&nbsp;from&nbsp;map()</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Receiving&nbsp;4&nbsp;from&nbsp;map()</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Receiving&nbsp;5&nbsp;from&nbsp;map()</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Receiving&nbsp;5&nbsp;from&nbsp;map()</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Receiving&nbsp;7&nbsp;from&nbsp;map()</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>map()&nbsp;is&nbsp;done!</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;received&nbsp;[5,&nbsp;4,&nbsp;5,&nbsp;5,&nbsp;7]</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Subscriber&nbsp;done!</span></span></span></div></pre><p>Above, we declare a <code>do_action</code> right after the <code>map()</code> operation emitting the lengths. We print each length emission before it goes to the <code>to_list()</code>. Finally, <code>on_completed</code> is called and prints a notification that <code>map()</code> is not giving any more items. Then it pushes the completion event to the <code>to_list()</code> which then pushes the <code>List</code> to the <code>Subscriber</code>. Then <code>to_list()</code> calls <code>on_completed()</code> up to the <code>Subscriber</code> <em>after</em> the <code>List</code> is emitted.</p>
<p>Use <code>do_action()</code> when you need to &quot;peek&quot; inside any point in the <code>Observable</code> chain, either for debugging or quickly call actions at that point.</p>
<h2 id="3-subjects">3 - Subjects</h2>
<p>Another way to create an <code>Observable</code> is by declaring a <code>Subject</code>. A <code>Subject</code> is both an <code>Observable</code> and <code>Observer</code>, and you can call its <code>Observer</code> functions to push items through it and up to any Subscribers at any time.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>.</span><span>subjects</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Subject</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>subject</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Subject</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>subject</span><span>.</span><span>filter</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>i</span><span>&nbsp;</span><span class="keyword operator comparison python"><span>&lt;</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>100</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span>i</span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>*</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>1000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>subject</span><span>.</span><span>on_next</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>10</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>subject</span><span>.</span><span>on_next</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>50</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>subject</span><span>.</span><span>on_next</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>105</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>subject</span><span>.</span><span>on_next</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>87</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>subject</span><span>.</span><span>on_completed</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>10000</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>50000</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>87000</span></span></span></div></pre><p>While they seem convenient, Subjects are often discouraged from being used. They can easily encourage antipatterns and are prone to abuse. They also are difficult to compose against and do not respect <code>subscribe_on()</code>. It is better to create Observables that strictly come from one defined source, rather than be openly mutable and have anything push items to it at anytime. Use Subjects with discretion.</p>
<h2 id="4-error-recovery">4. Error Recovery</h2>
<p>There are a number of error recovery operators, but we will cover two helpful ones. Say you have an <code>Observable</code> operation that will ultimately attempt to divide by zero and therefore throw an error.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>6</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>2</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>0</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>1</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>35</span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>5</span></span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>/</span></span><span>&nbsp;</span><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1.0</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>0.8333333333333334</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>2.5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>division&nbsp;by&nbsp;zero</span></span></span></div></pre><p>There are multiple ways to handle this. Of course, the best way is to be proactive and use <code>filter()</code> to hold back any <code>0</code> value emissions. But for the sake of example, let&#39;s say we did not expect this error and we want a way to handle any errors we have not considered.</p>
<p>One way is to use <code>on_error_resume_next()</code> which will switch to an alternate <code>Observable</code> source in the event there is an error. This is somewhat contrived, but if we encounter an error we can switch to emitting an <code>Observable.range()</code>.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>6</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>2</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>0</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>1</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>35</span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>5</span></span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>/</span></span><span>&nbsp;</span><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>o</span><span>n_error_resume_next</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>range</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1</span></span><span>,</span><span class="constant numeric integer decimal python"><span>10</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1.0</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>0.8333333333333334</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>2.5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>3</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>6</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>7</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>8</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>9</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>10</span></span></span></div></pre><p>It probably would be more realistic to pass an <code>Observable.empty()</code> instead to simply stop emissions once an error happens.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>6</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>2</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>0</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>1</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>35</span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>5</span></span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>/</span></span><span>&nbsp;</span><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>o</span><span>n_error_resume_next</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>empty</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1.0</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>0.8333333333333334</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>2.5</span></span></span></div></pre><p>Although this is not a good example to use it, you can also use <code>retry()</code> to re-attempt subscribing to the <code>Observable</code> and hope the next set of emissions are successful without error. You typically should pass an integer argument to specify the number of retry attempts before it gives up and lets the error go to the <code>Subscriber</code>. If you do not, it will retry an infinite number of times.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>from_</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta structure list python"><span class="punctuation definition list begin python"><span>[</span></span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>5</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>6</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>2</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>0</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>1</span></span></span><span class="punctuation separator list python"><span>,</span></span><span>&nbsp;</span><span class="meta structure list item python"><span class="constant numeric integer decimal python"><span>35</span></span></span><span class="punctuation definition list end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>5</span></span><span>&nbsp;</span><span class="keyword operator arithmetic python"><span>/</span></span><span>&nbsp;</span><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>r</span><span>etry</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>3</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="variable parameter function python"><span>on_next</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>i</span><span>)</span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>on_error</span></span><span class="keyword operator assignment python"><span>=</span></span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>e</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>e</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1.0</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>0.8333333333333334</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>2.5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1.0</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>0.8333333333333334</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>2.5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>1.0</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>0.8333333333333334</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>2.5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>division&nbsp;by&nbsp;zero</span></span></span></div></pre><p>You can also use this in combination with the <code>delay()</code> operator to hold off subscribing for a fixed time period, which can be helpful for intermittent connectivity problems.</p>
<h2 id="5-combine_latest-">5. combine_latest()</h2>
<p>There is one operation for merging multiple Observables together we did not cover: <code>combine_latest()</code>. It behaves much like <code>zip()</code> but will only combine the <em>latest</em> emissions for each source in the event one of them emits something. This is helpful for hot event sources especially, such as user inputs in a UI, where do you not care what the previous emissions are.</p>
<p>Below, we have two interval sources put in <code>combine_latest()</code>: <code>source1</code> emitting every 3 seconds and <code>source2</code> every 1 second. Notice that <code>source2</code> is going to emit a lot faster, but rather than get queued up like in <code>zip()</code> waiting for an emission from <code>source1</code>, it is going to pair with only the latest emission from <code>source1</code>. It is not going to wait for any emission to be zipped with. Conversely, when <code>source1</code> does emit something it is going to pair with the latest emission from <code>source2</code>, not wait for an emission.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="keyword control import from python"><span>from</span></span><span>&nbsp;</span><span>rx</span><span>&nbsp;</span><span class="keyword control import python"><span>import</span></span><span>&nbsp;</span><span>Observable</span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>source1</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>3000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>SOURCE&nbsp;1:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>source2</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>Observable</span><span>.</span><span>interval</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>1000</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>m</span><span>ap</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>i</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>SOURCE&nbsp;2:&nbsp;</span><span class="constant other placeholder python"><span>{0}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span>Observable</span><span>.</span><span>combine_latest</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>source1</span><span>,&nbsp;</span><span>source2</span><span>,&nbsp;</span><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s1</span></span><span class="punctuation separator parameters python"><span>,</span></span><span class="variable parameter function python"><span>s2</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span class="constant other placeholder python"><span>{0}</span></span><span>,&nbsp;</span><span class="constant other placeholder python"><span>{1}</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>f</span><span>ormat</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>s1</span><span>,</span><span>s2</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation separator continuation line python"><span>\</span></span><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>ubscribe</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta function inline python"><span class="storage type function inline python"><span>lambda</span></span><span>&nbsp;</span><span class="meta function inline parameters python"><span class="variable parameter function python"><span>s</span></span></span><span class="punctuation definition parameters end python"><span>:</span></span></span><span>&nbsp;</span><span class="keyword other python"><span>print</span></span><span>(</span><span>s</span><span>)</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function-call python"><span class="support function builtin python"><span>input</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;quit</span><span class="constant character escape linefeed python"><span>\n</span></span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div></pre>
<p><strong>OUTPUT:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Press&nbsp;any&nbsp;key&nbsp;to&nbsp;quit</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;0,&nbsp;SOURCE&nbsp;2:&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;0,&nbsp;SOURCE&nbsp;2:&nbsp;2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;0,&nbsp;SOURCE&nbsp;2:&nbsp;3</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;0,&nbsp;SOURCE&nbsp;2:&nbsp;4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;1,&nbsp;SOURCE&nbsp;2:&nbsp;4</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;1,&nbsp;SOURCE&nbsp;2:&nbsp;5</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;1,&nbsp;SOURCE&nbsp;2:&nbsp;6</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;1,&nbsp;SOURCE&nbsp;2:&nbsp;7</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;2,&nbsp;SOURCE&nbsp;2:&nbsp;7</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;2,&nbsp;SOURCE&nbsp;2:&nbsp;8</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;2,&nbsp;SOURCE&nbsp;2:&nbsp;9</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;2,&nbsp;SOURCE&nbsp;2:&nbsp;10</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;3,&nbsp;SOURCE&nbsp;2:&nbsp;10</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;3,&nbsp;SOURCE&nbsp;2:&nbsp;11</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;3,&nbsp;SOURCE&nbsp;2:&nbsp;12</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SOURCE&nbsp;1:&nbsp;3,&nbsp;SOURCE&nbsp;2:&nbsp;13</span></span></span></div></pre><p>Again, this is a helpful alternative for <code>zip()</code> if you want to emit the <em>latest combinations</em> from two or more Observables.</p></body>
</html>
